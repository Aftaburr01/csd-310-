;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="cf72d985-10ad-0c99-4dba-1091ea0e5862")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,702762,e=>{"use strict";var n=e.i(877249),t=function(e){return"@media screen and (max-width: ".concat(n.BREAKPOINTS[e],"px)")},r=function(e){return"@media screen and (min-width: ".concat(n.BREAKPOINTS[e],"px)")},i=function(e,t){return"@media screen and (min-width: ".concat(n.BREAKPOINTS[e],"px) and (max-width: ").concat(n.BREAKPOINTS[t]-1,"px)")};e.s(["screenMediaForMaxWidth",()=>t,"screenMediaForMinWidth",()=>r,"screenMediaForRange",()=>i])},655366,e=>{"use strict";var n=e.i(569384),t=e.i(973245);function r(){var e=(0,n._)(["\n  fragment CrosisContextCurrentUser on CurrentUser {\n    id\n    username\n    isSubscribed\n  }\n"]);return r=function(){return e},e}function i(){var e=(0,n._)(["\n  fragment CrosisContextRepl on Repl {\n    id\n    language\n    slug\n    user {\n      id\n      username\n    }\n    authorizations {\n      editFileContents {\n        isAuthorized\n      }\n    }\n  }\n"]);return i=function(){return e},e}var s=(0,t.gql)(r()),a=(0,t.gql)(i());e.s(["CrosisContextCurrentUserFragmentDoc",()=>s,"CrosisContextReplFragmentDoc",()=>a])},924521,e=>{"use strict";var n=e.i(135173),t=e.i(480028),r=function(e){var t=e/n.STARTER_PLAN_REPL_LIMIT;return{isReplLimitExceeded:t>=1,isLimitReached:1===t,isApproachingLimit:t>=2/3}},i=function(e){var n=r(e.replCount),i=n.isReplLimitExceeded,s=n.isLimitReached,a=n.isApproachingLimit;return i?t.tokens.accentNegativeDefault:s?t.tokens.orangeDefault:a?t.tokens.yellowDefault:t.tokens.accentPrimaryDefault},s=function(e){var n=r(e.replCount),i=n.isReplLimitExceeded,s=n.isLimitReached,a=n.isApproachingLimit;return i?t.tokens.accentNegativeDimmer:s?t.tokens.orangeDimmer:a?t.tokens.yellowDimmer:t.tokens.accentPrimaryDimmer};e.s(["getBorderColor",()=>i,"getFillColor",()=>s])},441164,e=>{"use strict";var n=e.i(878420),t=e.i(64386),r=e.i(530658),i=e.i(276385),s=e.i(389959),a=e.i(480028),o=e.i(446530),l=e.i(613355),c=e.i(140487),d=e.i(751273),u=e.i(625484),g=e.i(352767),h=e.i(369948),p=e.i(940745);function f(e){var n=e.nextButtonProps,t=e.prevButtonProps,r=(0,s.useContext)(m);if(null==r)throw Error("useDialogStep must be used within a MultiStepDialog");var i=r.setNextButtonProps,a=r.setPrevButtonProps;(0,s.useEffect)(function(){null!=n&&i(n)},[i,n]),(0,s.useEffect)(function(){null!=t&&a(t)},[a,t])}var m=(0,s.createContext)(null),x=(0,o.cssRecord)({root:[l.rcss.overflow("auto"),l.rcss.align.center,l.rcss.justify.start,{"& > *":{margin:"auto"}}],stepContainer:[l.rcss.width("100%"),l.rcss.p(16)],loadingContainer:[l.rcss.minHeight(300),l.rcss.align.center,l.rcss.justify.center]});function v(e){var t=e.children,a=e.onNextStep,o=e.onPrevStep,l=e.stepIndex,c=e.loading,d=e.stepProgress,g=e.nextButtonProps,h=e.prevButtonProps,f=e.contentContainerClassName,v=s.Children.toArray(t),y=null!=d?d:{current:l,total:v.length},b=(0,r._)((0,s.useState)({}),2),j=b[0],w=b[1],_=(0,r._)((0,s.useState)({}),2),k=_[0],B=_[1],S=(0,n._)({},g,j),P=(0,n._)({},h,k);function A(){w({}),B({})}var T=(0,s.useMemo)(function(){return{setNextButtonProps:w,setPrevButtonProps:B}},[]);if(l<0||l>=v.length)throw Error("Invalid step index");return(0,i.jsx)(m.Provider,{value:T,children:(0,i.jsx)(u.View,{css:x.root,grow:!0,shrink:!0,children:c?(0,i.jsx)(u.View,{css:x.loadingContainer,children:(0,i.jsx)(p.default,{})}):(0,i.jsxs)(u.View,{css:x.stepContainer,className:f,children:[v[l],(0,i.jsx)(C,{onNextStep:function(){A(),null==S.onClick&&a()},onPrevStep:function(){A(),null==P.onClick&&o()},nextButtonProps:S,prevButtonProps:P,stepProgress:y})]})})})}var y=(0,o.cssRecord)({start:[l.rcss.width(73)],end:[l.rcss.width(98)]});function C(e){var r=e.onNextStep,s=e.nextButtonProps,a=e.onPrevStep,o=e.prevButtonProps,l=e.stepProgress;return(0,i.jsxs)(u.View,{pt:16,row:!0,justify:"space-between",children:[0===l.current||o.hidden?(0,i.jsx)(u.View,{css:y.start}):(0,i.jsx)(d.Tooltip,{isDisabled:!o.disabled||!o.disabledReason,tooltip:o.disabledReason,children:(0,i.jsx)(c.Button,(0,t._)((0,n._)({iconLeft:(0,i.jsx)(g.default,{}),text:"Back"},o),{onClick:function(e){var n;null==(n=o.onClick)||n.call(o,e),a()}}),"prev-step-button")}),(0,i.jsx)(w,{currentStep:l.current,totalSteps:l.total}),l.current===l.total||s.hidden?(0,i.jsx)(u.View,{css:y.end}):(0,i.jsx)(d.Tooltip,{isDisabled:!s.disabled||!s.disabledReason,tooltip:s.disabledReason,children:(0,i.jsx)(c.Button,(0,t._)((0,n._)({iconRight:(0,i.jsx)(h.default,{}),colorway:"primary",type:"submit",text:"Continue"},s),{onClick:function(e){var n;null==(n=s.onClick)||n.call(s,e),r()}}),"next-step-button")})]})}var b=(0,o.cssRecord)({container:[l.rcss.gap(4)],stepBubble:[l.rcss.width(6),l.rcss.height(6),l.rcss.backgroundColor.backgroundHigher,{borderRadius:"50%"}]}),j={backgroundColor:a.tokens.accentPrimaryDefault,filter:"drop-shadow(0px 0px 6px ".concat(a.tokens.accentPrimaryDefault,")")};function w(e){var n=e.currentStep,t=e.totalSteps;return(0,i.jsx)(u.View,{css:b.container,row:!0,justify:"center",align:"center",children:Array.from({length:t},function(e,t){return(0,i.jsx)(u.View,{css:b.stepBubble,style:t===n?j:void 0},t)})})}e.s(["default",()=>v,"useDialogStep",()=>f])},793189,e=>{"use strict";var n=e.i(878420),t=e.i(569384),r=e.i(973245),i=e.i(304277);e.i(566901);var s=e.i(951262);function a(){var e=(0,t._)(["\n  fragment PurchaseCreditPackModalCurrentUser on CurrentUser {\n    id\n    username\n    image\n    personalOrgAuthorizations {\n      ... on OrgAuthorizations {\n        editPaymentMethod {\n          isAuthorized\n        }\n      }\n      ... on Error {\n        message\n      }\n    }\n    orgs(count: 50) {\n      __typename\n      ... on CurrentUserOrganizationConnection {\n        items {\n          org {\n            id\n            name\n            image\n          }\n        }\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n"]);return a=function(){return e},e}function o(){var e=(0,t._)(["\n  query PurchaseCreditPackModal {\n    currentUser {\n      ...PurchaseCreditPackModalCurrentUser\n    }\n  }\n  ","\n"]);return o=function(){return e},e}function l(){var e=(0,t._)(["\n  mutation PurchaseCreditPack($packId: String!, $orgId: String) {\n    purchaseCreditPack(packId: $packId, orgId: $orgId) {\n      __typename\n      ... on PurchaseCreditPackResult {\n        status\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n"]);return l=function(){return e},e}function c(){var e=(0,t._)(["\n  query GetCreditPackTaxAmount($input: GetCreditPackTaxAmountInput!) {\n    getCreditPackTaxAmount(input: $input) {\n      __typename\n      ... on GetCreditPackTaxAmountOutput {\n        taxInCents\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return c=function(){return e},e}function d(){var e=(0,t._)(["\n  query GetPaymentMethodForWorkspace($orgId: String) {\n    currentUser {\n      id\n      paymentMethod {\n        ... on PaymentMethod {\n          id\n          last4\n        }\n        ... on Error {\n          message\n        }\n      }\n      org(orgId: $orgId) {\n        __typename\n        ... on Org {\n          id\n          paymentMethod {\n            ... on PaymentMethod {\n              id\n              last4\n            }\n            ... on Error {\n              message\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return d=function(){return e},e}var u={},g=(0,r.gql)(a()),h=(0,r.gql)(o(),g);function p(e){var t=(0,n._)({},u,e);return i.useQuery(h,t)}var f=(0,r.gql)(l());function m(e){var t=(0,n._)({},u,e);return s.useMutation(f,t)}var x=(0,r.gql)(c());function v(e){var t=(0,n._)({},u,e);return i.useQuery(x,t)}var y=(0,r.gql)(d());function C(e){var t=(0,n._)({},u,e);return i.useQuery(y,t)}e.s(["useGetCreditPackTaxAmountQuery",()=>v,"useGetPaymentMethodForWorkspaceQuery",()=>C,"usePurchaseCreditPackModalQuery",()=>p,"usePurchaseCreditPackMutation",()=>m])},521593,e=>{"use strict";var n={EXPIRY_MONTHS:3,PACKS:[{id:"credit_pack_100",credits:100,priceUsd:100},{id:"credit_pack_300",credits:300,priceUsd:290},{id:"credit_pack_500",credits:500,priceUsd:480},{id:"credit_pack_1000",credits:1e3,priceUsd:950}]};n.PACKS.map(function(e){return e.id}),e.s(["CREDIT_PACK_CONFIG",()=>n])},830396,e=>{e.v({loadingSkeleton:"PurchaseCreditPackModal-module__R_gBha__loadingSkeleton",loadingSkeletonPayment:"PurchaseCreditPackModal-module__R_gBha__loadingSkeletonPayment",loadingSkeletonTax:"PurchaseCreditPackModal-module__R_gBha__loadingSkeletonTax",loadingSkeletonTotal:"PurchaseCreditPackModal-module__R_gBha__loadingSkeletonTotal",loadingSkeletonWorkspace:"PurchaseCreditPackModal-module__R_gBha__loadingSkeletonWorkspace",modalContent:"PurchaseCreditPackModal-module__R_gBha__modalContent",originalPrice:"PurchaseCreditPackModal-module__R_gBha__originalPrice",packItem:"PurchaseCreditPackModal-module__R_gBha__packItem",paymentDetailsContainer:"PurchaseCreditPackModal-module__R_gBha__paymentDetailsContainer",priceAmount:"PurchaseCreditPackModal-module__R_gBha__priceAmount",priceDetailsContainer:"PurchaseCreditPackModal-module__R_gBha__priceDetailsContainer",priceDisplay:"PurchaseCreditPackModal-module__R_gBha__priceDisplay",priceRow:"PurchaseCreditPackModal-module__R_gBha__priceRow",successDetailsCard:"PurchaseCreditPackModal-module__R_gBha__successDetailsCard"})},138492,e=>{"use strict";var n=e.i(297083),t=e.i(167626),r=e.i(530658),i=e.i(817556),s=e.i(276385),a=e.i(389959),o=e.i(121758),l=e.i(793189),c=e.i(521593),d=e.i(761201),u=e.i(968783),g=e.i(187505),h=e.i(858248),p=e.i(709485),f=e.i(6338),m=e.i(714165),x=e.i(140487),v=e.i(91720),y=e.i(85742),C=e.i(739521),b=e.i(624782),j=e.i(12034),w=e.i(396776),_=e.i(960178),k=e.i(625484),B=e.i(774792),S=e.i(243914),P=e.i(940745),A=e.i(42458),T=e.i(830396),U=f.loadingStyle.foregroundPulse();function I(e){var n=e.packName,t=e.priceUsd,r=e.salesTax,i=e.total,a=e.paymentMethod,o=e.isLoadingTax,l=void 0!==o&&o,c=e.isLoadingPaymentMethod,d=null;return void 0!==c&&c?d=(0,s.jsx)(k.View,{className:"".concat(T.default.loadingSkeleton," ").concat(T.default.loadingSkeletonPayment),css:U}):a&&(d=(0,s.jsxs)(k.View,{row:!0,gap:8,align:"center",children:[(0,s.jsx)(B.default,{}),(0,s.jsxs)(_.Text,{children:["•••• ",a.last4]})]})),(0,s.jsxs)(s.Fragment,{children:[n?(0,s.jsx)(_.Text,{variant:"subheadDefault",children:n}):null,(0,s.jsxs)(k.View,{row:!0,gap:16,children:[(0,s.jsxs)(k.View,{className:T.default.priceDetailsContainer,children:[(0,s.jsxs)(k.View,{className:T.default.priceRow,children:[(0,s.jsx)(_.Text,{children:"Price:"}),(0,s.jsxs)(_.Text,{children:["$",t,".00"]})]}),(0,s.jsxs)(k.View,{className:T.default.priceRow,children:[(0,s.jsx)(_.Text,{children:"Sales Tax:"}),l?(0,s.jsx)(k.View,{className:"".concat(T.default.loadingSkeleton," ").concat(T.default.loadingSkeletonTax),css:U}):(0,s.jsxs)(_.Text,{children:["$",r.toFixed(2)]})]}),(0,s.jsxs)(k.View,{className:T.default.priceRow,children:[(0,s.jsx)(_.Text,{children:"Total:"}),l?(0,s.jsx)(k.View,{className:"".concat(T.default.loadingSkeleton," ").concat(T.default.loadingSkeletonTotal),css:U}):(0,s.jsxs)(_.Text,{children:["$",i.toFixed(2)]})]})]}),(0,s.jsx)(k.View,{className:T.default.paymentDetailsContainer,children:d})]})]})}function D(e){var n=e.selectedPackId,t=e.onPackChange,r=e.selectedPack,i=e.savings,a=e.currentWorkspace,o=e.loading,l=e.onContinue,u=e.onCancel;return(0,s.jsxs)(k.View,{className:T.default.modalContent,children:[(0,s.jsxs)(k.View,{gap:8,children:[(0,s.jsx)(_.Text,{variant:"headerDefault",children:"Purchase a credit pack"}),(0,s.jsxs)(k.View,{gap:2,children:[(0,s.jsx)(_.Text,{color:"dimmer",multiline:!0,children:"Get discounts when you buy credits in bulk."}),(0,s.jsxs)(_.Text,{color:"dimmer",multiline:!0,children:["Credit packs expire ",c.CREDIT_PACK_CONFIG.EXPIRY_MONTHS," months after purchase."]})]})]}),(0,s.jsx)(k.View,{className:T.default.priceDisplay,children:i>0?(0,s.jsxs)(k.View,{className:T.default.priceRow,children:[(0,s.jsxs)(k.View,{className:T.default.originalPrice,children:["$",null==r?void 0:r.credits]}),(0,s.jsxs)(k.View,{className:T.default.priceAmount,children:["$",null==r?void 0:r.priceUsd]})]}):(0,s.jsxs)(k.View,{className:T.default.priceAmount,children:["$",null==r?void 0:r.priceUsd]})}),(0,s.jsx)(j.Select,{label:"Credit pack size",selectedKey:n,onSelectionChange:function(e){return t(e)},children:c.CREDIT_PACK_CONFIG.PACKS.map(function(e){var n=e.credits-e.priceUsd;return(0,s.jsx)(y.BaseListBoxItem,{id:e.id,textValue:"$".concat(e.credits," Credit Pack"),children:(0,s.jsxs)(k.View,{className:T.default.packItem,children:[(0,s.jsxs)(_.Text,{children:["$",e.credits," Credit Pack"]}),n>0?(0,s.jsx)(b.Pill,{text:"Save $".concat(n),colorway:"positive",variant:"muted",compact:!0}):null]})},e.id)})}),(0,s.jsxs)(k.View,{gap:4,children:[(0,s.jsx)(_.Text,{variant:"small",children:"Workspace"}),function(){if(o)return(0,s.jsx)(k.View,{className:"".concat(T.default.loadingSkeleton," ").concat(T.default.loadingSkeletonWorkspace),css:U});if(a){var e;return(0,s.jsxs)(k.View,{row:!0,align:"center",gap:8,children:[(0,s.jsx)(m.Avatar,{src:null!=(e=a.image)?e:null,username:a.name,size:16}),(0,s.jsx)(_.Text,{children:a.name})]})}return null}()]}),(0,s.jsx)(v.ButtonLink,{text:"Learn more about how credit packs work",href:d.LINKS_DOCS.BILLING_OVERVIEW,target:"_blank",rel:"noopener",variant:"underlinedOnHover",colorway:"primary",size:"small",iconRight:(0,s.jsx)(S.default,{})}),(0,s.jsxs)(k.View,{gap:8,children:[(0,s.jsx)(x.Button,{text:"Continue to payment",colorway:"primary",onClick:l,disabled:o||!a,style:{width:"100%"}}),(0,s.jsx)(x.Button,{text:"Cancel",variant:"nofill",onClick:u,style:{width:"100%"}})]})]})}function E(e){var n=e.selectedPack,t=e.purchasing,r=e.salesTax,i=e.total,a=e.paymentMethod,o=e.loadingTax,l=e.calculatedTax,c=e.loadingPaymentMethod,d=e.taxCalculationError,u=e.onConfirm,g=e.onGoBack;return(0,s.jsxs)(k.View,{className:T.default.modalContent,children:[(0,s.jsx)(_.Text,{variant:"headerDefault",children:t?"Processing payment...":"Buy $".concat(null==n?void 0:n.credits," credit pack")}),d?(0,s.jsx)(w.StatusBanner,{colorway:"red",icon:(0,s.jsx)(A.default,{}),text:d}):null,n&&!d?(0,s.jsx)(I,{priceUsd:n.priceUsd,salesTax:r,total:i,paymentMethod:a,isLoadingTax:o||null===l,isLoadingPaymentMethod:c}):null,(0,s.jsxs)(k.View,{gap:8,children:[(0,s.jsx)(x.Button,{text:t?"Processing payment":"Confirm purchase",colorway:"primary",onClick:u,disabled:t||o||null===l||null!==d,loading:t,style:{width:"100%"},iconRight:t?(0,s.jsx)(P.default,{}):(0,s.jsx)(B.default,{})}),(0,s.jsx)(x.Button,{text:"Go back",variant:"nofill",onClick:g,disabled:t,style:{width:"100%"}})]})]})}function N(e){var n=e.selectedPack,t=e.salesTax,r=e.total,i=e.paymentMethod,a=e.onClose;return(0,s.jsxs)(k.View,{className:T.default.modalContent,children:[(0,s.jsxs)(k.View,{children:[(0,s.jsx)(_.Text,{variant:"headerDefault",children:"Purchase confirmed!"}),(0,s.jsx)(_.Text,{color:"dimmer",children:"Your credit pack has been added to your account."})]}),(0,s.jsx)(k.View,{p:16,gap:8,className:T.default.successDetailsCard,children:n?(0,s.jsx)(I,{packName:"$".concat(n.credits," Credit Pack"),priceUsd:n.priceUsd,salesTax:t,total:r,paymentMethod:i}):null}),(0,s.jsx)(x.Button,{text:"Done",colorway:"primary",onClick:a,style:{width:"100%"}})]})}function M(e){var n=e.resultMessage,t=e.errorType,r=e.onGoBack,i=e.onCancel;return(0,s.jsxs)(k.View,{className:T.default.modalContent,children:[(0,s.jsxs)(k.View,{gap:8,children:[(0,s.jsx)(_.Text,{variant:"headerDefault",children:function(){switch(t){case"UserError":return"Payment failed";case"UnauthorizedError":return"Permission required";case"NotFoundError":return"Not found";default:return"Purchase failed"}}()}),(0,s.jsx)(_.Text,{multiline:!0,children:n})]}),(0,s.jsxs)(k.View,{gap:8,children:[(0,s.jsx)(x.Button,{text:"Try again",colorway:"primary",onClick:r,style:{width:"100%"}}),(0,s.jsx)(x.Button,{text:"Cancel",variant:"nofill",onClick:i,style:{width:"100%"}})]})]})}function V(e){var n=e.resultMessage,t=e.onCancel;return(0,s.jsxs)(k.View,{className:T.default.modalContent,children:[(0,s.jsxs)(k.View,{gap:8,children:[(0,s.jsx)(_.Text,{variant:"headerDefault",children:"Payment processing"}),(0,s.jsx)(_.Text,{multiline:!0,children:n})]}),(0,s.jsx)(x.Button,{text:"Close",colorway:"primary",onClick:t,style:{width:"100%"}})]})}var L=o.default.create(function(){var e=(0,o.useModal)(),d=(0,l.usePurchaseCreditPackModalQuery)(),f=d.data,m=d.loading,x=(0,u.useCurrentUserStoredOrgContext)(),v=(0,g.useTrackClick)().trackClick,y=(0,r._)((0,l.usePurchaseCreditPackMutation)(),2),b=y[0],j=y[1].loading,w=(0,r._)((0,a.useState)(c.CREDIT_PACK_CONFIG.PACKS[0].id),2),_=w[0],k=w[1],B=(0,r._)((0,a.useState)("selection"),2),S=B[0],P=B[1],A=(0,r._)((0,a.useState)(""),2),T=A[0],U=A[1],I=(0,r._)((0,a.useState)("Unknown"),2),L=I[0],R=I[1];(0,a.useEffect)(function(){e.visible&&(P("selection"),U(""),R("Unknown"),(0,h.track)(p.events.CREDIT_PACK,{action:"modal_viewed"}))},[e.visible]);var O=null==f?void 0:f.currentUser,F=x.orgId||void 0,H=null;if(O){var W,G,q,z,Y,$,K,Q,Z,X,J=F&&(null==(X=O.orgs)?void 0:X.__typename)==="CurrentUserOrganizationConnection"?O.orgs.items.find(function(e){return e.org.id===F}):void 0;H=J?{id:J.org.id,name:J.org.name,image:J.org.image}:{id:String(O.id),name:"".concat(O.username,"'s Personal Workspace"),image:O.image}}var ee=c.CREDIT_PACK_CONFIG.PACKS.find(function(e){return e.id===_}),en=ee?ee.credits-ee.priceUsd:0,et=(0,l.useGetPaymentMethodForWorkspaceQuery)({variables:{orgId:F},fetchPolicy:"network-only",ssr:!1}),er=et.data,ei=et.loading,es=(0,l.useGetCreditPackTaxAmountQuery)({variables:{input:{amountInCents:ee?100*ee.priceUsd:0,orgId:F}},skip:!ee||!["confirmation","success"].includes(S),fetchPolicy:"network-only",ssr:!1}),ea=es.data,eo=es.loading,el=null;F&&(null==er||null==(G=er.currentUser)||null==(W=G.org)?void 0:W.__typename)==="Org"&&(null==(q=er.currentUser.org.paymentMethod)?void 0:q.__typename)==="PaymentMethod"?el=er.currentUser.org.paymentMethod:(null==er||null==(Y=er.currentUser)||null==(z=Y.paymentMethod)?void 0:z.__typename)==="PaymentMethod"&&(el=er.currentUser.paymentMethod);var ec=(null==ea||null==($=ea.getCreditPackTaxAmount)?void 0:$.__typename)==="GetCreditPackTaxAmountOutput"?ea.getCreditPackTaxAmount.taxInCents:null,ed=(null==ea||null==(K=ea.getCreditPackTaxAmount)?void 0:K.__typename)==="UserError"||(null==ea||null==(Q=ea.getCreditPackTaxAmount)?void 0:Q.__typename)==="NotFoundError"||(null==ea||null==(Z=ea.getCreditPackTaxAmount)?void 0:Z.__typename)==="UnauthorizedError"?ea.getCreditPackTaxAmount.message:null,eu=null!==ec?ec/100:0,eg=ee?ee.priceUsd+eu:0,eh=function(){e.hide()},ep=function(){P("selection")};return(0,s.jsx)(C.Modal,{isOpen:e.visible,onRequestClose:eh,maxWidth:384,preventClose:j,children:"selection"===S?(0,s.jsx)(D,{selectedPackId:_,onPackChange:k,selectedPack:ee,savings:en,currentWorkspace:H,loading:m,onContinue:function(){v({productArea:"billing",target:"purchase_credit_packs_continue_button"}),P("confirmation")},onCancel:eh}):"confirmation"===S?(0,s.jsx)(E,{selectedPack:ee,purchasing:j,salesTax:eu,total:eg,paymentMethod:el,loadingTax:eo,calculatedTax:ec,loadingPaymentMethod:ei,taxCalculationError:ed,onConfirm:function(){return(0,n._)(function(){var e,n,r,s,a,o;return(0,i._)(this,function(i){switch(i.label){case 0:v({productArea:"billing",target:"purchase_credit_packs_confirm_button"}),U(""),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,b({variables:{packId:_,orgId:F}})];case 2:return(null==(e=(r=i.sent()).data)?void 0:e.purchaseCreditPack.__typename)==="PurchaseCreditPackResult"?(U("Your credit pack has been added to your account."),P("success")):(null==(n=r.data)?void 0:n.purchaseCreditPack)&&(U(a=(s=r.data.purchaseCreditPack).message||"Unknown error"),a.includes("processing")?P("processing"):("UserError"===s.__typename||"UnauthorizedError"===s.__typename||"NotFoundError"===s.__typename?R(s.__typename):R("Unknown"),P("error"))),[3,4];case 3:return o=i.sent(),U((0,t._)(o,Error)?o.message:"An unexpected error occurred. Please try again."),R("Unknown"),P("error"),[3,4];case 4:return[2]}})})()},onGoBack:ep}):"success"===S?(0,s.jsx)(N,{selectedPack:ee,salesTax:eu,total:eg,paymentMethod:el,onClose:eh}):"error"===S?(0,s.jsx)(M,{resultMessage:T,errorType:L,onGoBack:ep,onCancel:eh}):"processing"===S?(0,s.jsx)(V,{resultMessage:T,onCancel:eh}):null})});e.s(["default",0,L])},696683,e=>{"use strict";var n=e.i(878420),t=e.i(569384),r=e.i(973245),i=e.i(951262);function s(){var e=(0,t._)(["\n  fragment EditUsageBasedBillingAlertsFormOrg on Org {\n    id\n    name\n  }\n"]);return s=function(){return e},e}function a(){var e=(0,t._)(["\n  fragment EditUsageBasedBillingAlertsFormInitialConfig on UsageBasedBillingAlertsConfig {\n    hardAlert {\n      id\n      threshold\n    }\n    softAlert {\n      id\n      threshold\n    }\n  }\n"]);return a=function(){return e},e}function o(){var e=(0,t._)(["\n  mutation EditUsageBasedBillingAlertsFormOrgUpdateAlerts(\n    $input: UpdateUsageBasedBillingAlertsInput!\n  ) {\n    updateUsageBasedBillingAlerts(input: $input) {\n      ... on UsageBasedBillingAlertsConfig {\n        ...EditUsageBasedBillingAlertsFormInitialConfig\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n  ","\n"]);return o=function(){return e},e}var l={},c=(0,r.gql)(s()),d=(0,r.gql)(a()),u=(0,r.gql)(o(),d);function g(e){var t=(0,n._)({},l,e);return i.useMutation(u,t)}e.s(["EditUsageBasedBillingAlertsFormInitialConfigFragmentDoc",()=>d,"EditUsageBasedBillingAlertsFormOrgFragmentDoc",()=>c,"useEditUsageBasedBillingAlertsFormOrgUpdateAlertsMutation",()=>g])},784691,e=>{"use strict";var n=e.i(569384),t=e.i(973245),r=e.i(696683);function i(){var e=(0,n._)(["\n  fragment TotalUsageOrg on Org {\n    id\n    ...EditUsageBasedBillingAlertsFormOrg\n  }\n  ","\n"]);return i=function(){return e},e}function s(){var e=(0,n._)(["\n  fragment TotalUsageBillingAlertsConfig on UsageBasedBillingAlertsConfig {\n    hardAlert {\n      id\n      threshold\n    }\n    softAlert {\n      id\n      threshold\n    }\n  }\n"]);return s=function(){return e},e}var a=(0,t.gql)(i(),r.EditUsageBasedBillingAlertsFormOrgFragmentDoc),o=(0,t.gql)(s());e.s(["TotalUsageBillingAlertsConfigFragmentDoc",()=>o,"TotalUsageOrgFragmentDoc",()=>a])},315793,e=>{"use strict";var n=e.i(878420),t=e.i(569384),r=e.i(973245),i=e.i(304277);e.i(566901);var s=e.i(784691);function a(){var e=(0,t._)(["\n  fragment OrgUsagePeriodInformation on UsageInterval {\n    startDate\n    endDate\n    totalAmountUsd\n    subtotalAmountUsd\n    credits {\n      ... on Credits {\n        availableAdditionalCredits\n        availableSubscriptionCredits\n        totalGrantedAdditionalCredits\n        totalGrantedSubscriptionCredits\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n"]);return a=function(){return e},e}function o(){var e=(0,t._)(["\n  fragment OrgUsageAuthorizations on OrgAuthorizations {\n    viewSubscription {\n      isAuthorized\n      message\n    }\n    viewUsage {\n      isAuthorized\n      message\n    }\n    editUsageLimit {\n      isAuthorized\n      message\n    }\n  }\n"]);return o=function(){return e},e}function l(){var e=(0,t._)(["\n  fragment OrgUsageBasedBillingBudget on UsageBasedBillingBudget {\n    id\n    hasReachedBudget\n  }\n"]);return l=function(){return e},e}function c(){var e=(0,t._)(["\n  query OrgUsagePeriodInformation($orgId: String!) {\n    currentUser {\n      id\n      org(orgId: $orgId) {\n        __typename\n        ... on Org {\n          id\n          ...TotalUsageOrg\n          usageInterval {\n            ... on UsageInterval {\n              ...OrgUsagePeriodInformation\n            }\n            ... on Error {\n              message\n            }\n          }\n          paymentMethod {\n            ... on PaymentMethod {\n              __typename\n              id\n            }\n            ... on Error {\n              message\n            }\n          }\n          usageBasedBillingBudget {\n            ... on UsageBasedBillingBudget {\n              ...OrgUsageBasedBillingBudget\n            }\n            ... on Error {\n              message\n            }\n          }\n          usageBasedBillingAlerts {\n            ... on UsageBasedBillingAlertsConfig {\n              ...TotalUsageBillingAlertsConfig\n            }\n            ... on Error {\n              message\n            }\n          }\n          planInfo {\n            __typename\n            ... on OrgPlanInfo {\n              name\n              planId\n              planEndDate\n              planStartDate\n            }\n            ... on Error {\n              message\n            }\n          }\n          authorizations {\n            ...OrgUsageAuthorizations\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return c=function(){return e},e}function d(){var e=(0,t._)(["\n  query OrgDetailedCredits($orgId: String!) {\n    currentUser {\n      id\n      org(orgId: $orgId) {\n        __typename\n        ... on Org {\n          id\n          usageInterval {\n            ... on UsageInterval {\n              __typename\n              detailedCredits {\n                ... on DetailedCredits {\n                  totalRemainingCredits\n                  totalUsedCredits\n                  remainingCreditsByType {\n                    subscription\n                    creditPackPurchase\n                    referral\n                    gift\n                    additional\n                  }\n                  usedCreditsByType {\n                    subscription\n                    creditPackPurchase\n                    referral\n                    gift\n                    additional\n                  }\n                  creditBlocksByType {\n                    creditPackPurchase {\n                      blockId\n                      creditType\n                      currentBalance\n                      effectiveDate\n                      expiryDate\n                      initialBalance\n                    }\n                    referral {\n                      blockId\n                      creditType\n                      currentBalance\n                      effectiveDate\n                      expiryDate\n                      initialBalance\n                    }\n                    gift {\n                      blockId\n                      creditType\n                      currentBalance\n                      effectiveDate\n                      expiryDate\n                      initialBalance\n                    }\n                  }\n                }\n                ... on Error {\n                  message\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return d=function(){return e},e}var u={},g=(0,r.gql)(a()),h=(0,r.gql)(o()),p=(0,r.gql)(l()),f=(0,r.gql)(c(),s.TotalUsageOrgFragmentDoc,g,p,s.TotalUsageBillingAlertsConfigFragmentDoc,h);function m(e){var t=(0,n._)({},u,e);return i.useQuery(f,t)}var x=(0,r.gql)(d());function v(e){var t=(0,n._)({},u,e);return i.useQuery(x,t)}e.s(["OrgUsagePeriodInformationDocument",()=>f,"useOrgDetailedCreditsQuery",()=>v,"useOrgUsagePeriodInformationQuery",()=>m])},744610,e=>{"use strict";var n=e.i(878420),t=e.i(569384),r=e.i(973245),i=e.i(304277);e.i(566901);var s=e.i(881476),a=e.i(696683),o=e.i(784691);function l(){var e=(0,t._)(["\n  fragment UsageOverviewCurrentUserPlanStatus on CurrentUser {\n    id\n    ...CoreSubscriptionPlanStatus\n  }\n  ","\n"]);return l=function(){return e},e}function c(){var e=(0,t._)(["\n  fragment UsageOverviewCurrentUser on CurrentUser {\n    id\n    ...UsageOverviewCurrentUserPlanStatus\n    usageBasedBillingAlerts {\n      ... on UsageBasedBillingAlertsConfig {\n        ...TotalUsageBillingAlertsConfig\n      }\n      ... on Error {\n        message\n      }\n    }\n    paymentMethod {\n      ... on PaymentMethod {\n        id\n        last4\n        expirationMonth\n        expirationYear\n      }\n    }\n    billingInfo {\n      planInfo {\n        amount\n        interval\n      }\n    }\n    usageBasedBillingBudget {\n      ... on UsageBasedBillingBudget {\n        id\n        hasReachedBudget\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n    usageBasedBillingAlerts {\n      ...EditUsageBasedBillingAlertsFormInitialConfig\n    }\n    usageBasedBilling {\n      __typename\n      ... on UserUsageBasedBillingSummary {\n        capabilities {\n          hasOrbCustomer\n        }\n      }\n    }\n    usageInterval {\n      ... on UsageInterval {\n        __typename\n        startDate\n        endDate\n        totalAmountUsd\n        subtotalAmountUsd\n        planDiscountUsd\n        credits {\n          ... on Credits {\n            availableAdditionalCredits\n            availableSubscriptionCredits\n            totalGrantedAdditionalCredits\n            totalGrantedSubscriptionCredits\n          }\n          ... on Error {\n            message\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return c=function(){return e},e}function d(){var e=(0,t._)(["\n  query UsageOverviewCurrentUser {\n    currentUser {\n      id\n      username\n      timeCreated\n      ...UsageOverviewCurrentUser\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function u(){var e=(0,t._)(["\n  query UserDetailedCredits {\n    currentUser {\n      id\n      usageInterval {\n        ... on UsageInterval {\n          __typename\n          detailedCredits {\n            ... on DetailedCredits {\n              totalRemainingCredits\n              totalUsedCredits\n              remainingCreditsByType {\n                subscription\n                creditPackPurchase\n                referral\n                gift\n                additional\n              }\n              usedCreditsByType {\n                subscription\n                creditPackPurchase\n                referral\n                gift\n                additional\n              }\n              creditBlocksByType {\n                creditPackPurchase {\n                  blockId\n                  creditType\n                  currentBalance\n                  effectiveDate\n                  expiryDate\n                  initialBalance\n                }\n                referral {\n                  blockId\n                  creditType\n                  currentBalance\n                  effectiveDate\n                  expiryDate\n                  initialBalance\n                }\n                gift {\n                  blockId\n                  creditType\n                  currentBalance\n                  effectiveDate\n                  expiryDate\n                  initialBalance\n                }\n              }\n            }\n            ... on Error {\n              message\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return u=function(){return e},e}var g={},h=(0,r.gql)(l(),s.CoreSubscriptionPlanStatusFragmentDoc),p=(0,r.gql)(c(),h,o.TotalUsageBillingAlertsConfigFragmentDoc,a.EditUsageBasedBillingAlertsFormInitialConfigFragmentDoc),f=(0,r.gql)(d(),p);function m(e){var t=(0,n._)({},g,e);return i.useQuery(f,t)}var x=(0,r.gql)(u());function v(e){var t=(0,n._)({},g,e);return i.useQuery(x,t)}e.s(["UsageOverviewCurrentUserDocument",()=>f,"useUsageOverviewCurrentUserQuery",()=>m,"useUserDetailedCreditsQuery",()=>v])},814629,e=>{"use strict";var n=e.i(276385),t=e.i(389959),r=e.i(330666),i=e.i(480028),s=e.i(446530),a=e.i(613355),o=e.i(136540),l=e.i(607278),c=e.i(818503),d=e.i(396776),u=e.i(625484),g=e.i(606867),h=e.i(821488),p=e.i(703505),f=e.i(42458),m=(0,s.cssRecord)({budgetInput:[a.rcss.pl(24),a.rcss.maxWidth(100)],inputContainer:[a.rcss.position.relative,a.rcss.rowWithGap(2),a.rcss.align.center],inputIcon:[a.rcss.position.absolute,{left:i.tokens.space4}]}),x=function(e){var i=e.type,s=e.value,a=e.label,x=e.error,v=e.onChange,y=(0,t.useId)(),C=(0,t.useId)();return(0,n.jsxs)(u.View,{gap:8,children:[(0,n.jsxs)(u.View,{gap:2,children:[(0,n.jsx)(c.Label,{color:"dimmer",htmlFor:y,children:a}),(0,n.jsxs)(u.View,{row:!0,gap:8,align:"center",children:[(0,n.jsxs)(u.View,{css:m.inputContainer,children:[(0,n.jsxs)(g.default,{alt:"Dollars",css:m.inputIcon,children:[(0,n.jsx)(h.default,{size:24}),(0,n.jsx)(r.VisuallyHidden,{children:"Dollars"})]}),(0,n.jsx)(l.Input,{id:y,type:"number",min:0,value:s,css:m.budgetInput,"aria-describedby":C,onChange:function(e){return v(e.target.value)}})]}),(0,n.jsx)(o.IconButton,{alt:"Remove monthly usage ".concat("hard"===i?"limit":"alert"),onClick:function(){return v("")},size:32,children:(0,n.jsx)(p.default,{})})]})]}),x?(0,n.jsx)(d.StatusBanner,{id:C,icon:(0,n.jsx)(f.default,{}),text:x,colorway:"negative"}):null]})};e.s(["BudgetInput",()=>x])},201411,e=>{"use strict";var n=e.i(721281),t=e.i(530658),r=e.i(276385),i=e.i(389959),s=e.i(315793),a=e.i(696683),o=e.i(744610),l=e.i(791729),c=e.i(761201),d=e.i(709485),u=e.i(993796),g=e.i(322823),h=e.i(222342),p=e.i(858248),f=e.i(814629),m=e.i(480028),x=e.i(703774),v=e.i(446530),y=e.i(613355),C=e.i(965153),b=e.i(140487),j=e.i(739521),w=e.i(960178),_=e.i(625484),k=e.i(211397),B=e.i(71754),S=e.i(243914),P=e.i(940745),A=(0,v.cssRecord)({learnMoreLink:[y.rcss.hover({color:m.tokens.accentPrimaryStrongest})],bulletPoint:[y.rcss.rowWithGap(8),y.rcss.mb(4),y.rcss.flex.growAndShrink(1)],bulletPoints:[y.rcss.ml(8),y.rcss.flex.growAndShrink(1)],bulletPointText:[y.rcss.flex.growAndShrink(1)],between:[y.rcss.width("100%"),(0,n._)({},y.media.max(400),[y.rcss.colWithGap(2)])],textIcon:[y.rcss.color.accentNegativeDefault],footer:[y.rcss.width("100%"),y.rcss.rowWithGap(8),y.rcss.align.center,y.rcss.justify.spaceBetween,(0,n._)({},y.media.max("mobileMax"),[y.rcss.colWithGap(4),y.rcss.justify.center,y.rcss.align.start])],accountSettingsFooter:[y.rcss.width("50%"),y.rcss.align.start,(0,n._)({},y.media.max("tabletMax"),[y.rcss.width("100%"),y.rcss.align.center])],modalFooter:[y.rcss.width("100%"),y.rcss.rowWithGap(12),y.rcss.justify.end,(0,n._)({},y.media.max("mobileMax"),[y.rcss.colWithGap(8),y.rcss.align.stretch])]});function T(e,n){var t=e.trim(),r=n.trim(),i=""!==t?Number.parseFloat(t):null,s=""!==r?Number.parseFloat(r):null;return null!=i&&Number.isNaN(i)||null!=s&&Number.isNaN(s)?{ok:!1,error:{softAlertError:Number.isNaN(i)?"Please enter a number":void 0,hardAlertError:Number.isNaN(s)?"Please enter a number":void 0}}:(0,l.validateAlertThresholds)(i,s)}function U(e){var n,r,l,c,u=e.orgId,f=e.initialSettings,m=e.onDone,x=null!=(l=null==f||null==(n=f.softAlert)?void 0:n.threshold.toString())?l:"",v=null!=(c=null==f||null==(r=f.hardAlert)?void 0:r.threshold.toString())?c:"",y=(0,g.useFormField)(x,function(e){var n=T(e,C.value);if(!n.ok&&n.error.softAlertError)return{severity:"error",message:n.error.softAlertError}}),C=(0,g.useFormField)(v,function(e){var n=T(y.value,e);if(!n.ok&&n.error.hardAlertError)return{severity:"error",message:n.error.hardAlertError}}),b=(0,h.default)(),j=b.showConfirm,w=b.showError,_=y.validate,k=C.validate;(0,i.useEffect)(function(){_(),k()},[y.value,C.value,_,k]);var B=(0,t._)((0,a.useEditUsageBasedBillingAlertsFormOrgUpdateAlertsMutation)({onError:function(e){w(e.message)},onCompleted:function(e){"UsageBasedBillingAlertsConfig"!==e.updateUsageBasedBillingAlerts.__typename?w(e.updateUsageBasedBillingAlerts.message):(j("Updated usage settings"),m())},refetchQueries:u?[s.OrgUsagePeriodInformationDocument]:[o.UsageOverviewCurrentUserDocument]}),2),S=B[0];return{saveAlerts:function(){if(!(y.validate()||C.validate())){var e=T(y.value,C.value);e.ok&&S({variables:{input:{orgId:u,softAlertThreshold:e.value.softAlertValue,hardAlertThreshold:e.value.hardAlertValue}}})}},saveSoftAlert:function(){if(!y.validate()){var e=T(y.value,C.value);e.ok&&((0,p.track)(d.events.UBB_ALERT_SAVED,{orgId:u,softAlertThreshold:e.value.softAlertValue,context:"billing_settings"}),S({variables:{input:{orgId:u,softAlertThreshold:e.value.softAlertValue,hardAlertThreshold:e.value.hardAlertValue}}}))}},saveHardAlert:function(){if(!C.validate()){var e=T(y.value,C.value);e.ok&&((0,p.track)(d.events.UBB_BUDGET_SAVED,{orgId:u,hardAlertThreshold:e.value.hardAlertValue,context:"billing_settings"}),S({variables:{input:{orgId:u,softAlertThreshold:e.value.softAlertValue,hardAlertThreshold:e.value.hardAlertValue}}}))}},saveAlertsWithValues:function(e,n){var t=T(e,n);t.ok&&((0,p.track)(d.events.UBB_ALERT_SAVED,{orgId:u,softAlertThreshold:t.value.softAlertValue,context:"billing_settings"}),S({variables:{input:{orgId:u,softAlertThreshold:t.value.softAlertValue,hardAlertThreshold:t.value.hardAlertValue}}}))},softAlertField:y,hardAlertField:C,loading:B[1].loading}}function I(e){var n,s,a,o,l=e.org,d=e.initialSettings,g=e.onDone,h=e.isInAccountSettings,p=U({orgId:null==l?void 0:l.id,initialSettings:d,onDone:g}),m=p.softAlertField,v=p.hardAlertField,y=p.saveAlerts,T=p.saveSoftAlert,I=p.saveHardAlert,D=p.saveAlertsWithValues,E=p.loading,N=(0,t._)((0,i.useState)(!1),2),M=N[0],V=N[1],L=(0,x.useTheme)().isDarkColorScheme,R=(0,u.useFlag)({controlName:"flag-usage-alerts-separate-save-buttons",default:!1});return(0,r.jsxs)(_.View,{gap:16,align:"start",children:[(0,r.jsxs)(w.Header,{level:1,variant:h?"subheadDefault":"subheadBig",children:["Manage ",l?"".concat(l.name,"'s"):"your"," monthly spending"]}),(0,r.jsxs)(_.View,{gap:12*!!R,children:[(0,r.jsx)(w.Text,{children:"Usage alerts and budgets can help you control spending on additional usage beyond the monthly credit included with your plan"}),R?(0,r.jsxs)(_.View,{tag:"a",css:A.learnMoreLink,row:!0,gap:4,align:"center",target:"_blank",href:c.LINKS_DOCS.MANAGING_SPEND,children:["Learn more about usage-based billing ",(0,r.jsx)(S.default,{})]}):null,(0,r.jsx)(k.default,{alt:"",src:L?"/public/images/manage-usage-dark-1.svg":"/public/images/manage-usage-light-1.svg",width:500,height:100,layout:"responsive",objectFit:"contain",priority:!0})]}),(0,r.jsxs)(_.View,{gap:8,align:"start",children:[(0,r.jsx)(w.Header,{level:2,variant:"subheadDefault",children:"Set a usage alert"}),(0,r.jsxs)(w.Text,{children:["Choose an amount, and we'll notify you if your spending reaches it — no interruptions, just a helpful heads-up."," "]}),R?(0,r.jsxs)(_.View,{gap:12,children:[(0,r.jsx)(f.BudgetInput,{type:"soft",value:m.value,onChange:m.setValue,error:null==(n=m.error)?void 0:n.message}),(0,r.jsx)(b.Button,{text:"Save Alert",colorway:"primary",loading:E,disabled:E||null!==m.error,onClick:T,iconLeft:E?(0,r.jsx)(P.default,{}):void 0})]}):(0,r.jsx)(f.BudgetInput,{type:"soft",value:m.value,onChange:m.setValue,error:null==(s=m.error)?void 0:s.message})]}),R?(0,r.jsx)(_.View,{style:{width:"100%"},children:(0,r.jsx)(C.AccordionItem,{headerContent:(0,r.jsx)(w.Header,{level:2,variant:"subheadDefault",children:"Set a service shutdown limit"}),defaultExpanded:!1,variant:"default",headerProps:{style:{width:"100%"}},children:(0,r.jsxs)(_.View,{gap:12,children:[(0,r.jsx)(w.Text,{children:"When this limit is reached, services will be suspended until the budget is increased or the next billing cycle begins. This will help prevent extra charges."}),(0,r.jsxs)(_.View,{gap:12,align:"start",children:[(0,r.jsx)(f.BudgetInput,{type:"hard",value:v.value,onChange:v.setValue,error:null==(a=v.error)?void 0:a.message}),(0,r.jsx)(b.Button,{text:"Enable Shutdown",colorway:"primary",loading:E,disabled:E||null!==v.error,onClick:function(){return V(!0)},iconLeft:E?(0,r.jsx)(P.default,{}):void 0,style:{padding:"16px"}})]})]})})}):(0,r.jsxs)(_.View,{gap:8,align:"start",children:[(0,r.jsxs)(_.View,{css:A.between,row:!0,justify:"space-between",children:[(0,r.jsx)(w.Header,{level:2,variant:"subheadDefault",children:"Set a usage budget"}),(0,r.jsxs)(_.View,{css:A.textIcon,row:!0,gap:4,align:"center",children:[(0,r.jsx)(B.default,{size:12}),(0,r.jsx)(w.Text,{variant:"small",children:"Triggers a service shutdown"})]})]}),(0,r.jsx)(w.Text,{children:"When this limit is reached, services will be suspended until the budget is increased or the next billing cycle begins. This will help prevent extra charges."}),(0,r.jsxs)(_.View,{css:A.bulletPoints,gap:0,children:[(0,r.jsxs)(_.View,{css:A.bulletPoint,children:[(0,r.jsx)(w.Text,{children:(0,r.jsx)("span",{"aria-hidden":!0,children:"•"})}),(0,r.jsx)(w.Text,{multiline:!0,css:A.bulletPointText,children:"Cloud services, deployments, and agent access will all be paused."})]}),(0,r.jsxs)(_.View,{css:A.bulletPoint,children:[(0,r.jsx)(w.Text,{children:(0,r.jsx)("span",{"aria-hidden":!0,children:"•"})}),(0,r.jsx)(w.Text,{multiline:!0,css:A.bulletPointText,children:"Any active deployments will go offline, so users won't have access."})]}),(0,r.jsxs)(_.View,{css:A.bulletPoint,children:[(0,r.jsx)(w.Text,{children:(0,r.jsx)("span",{"aria-hidden":!0,children:"•"})}),(0,r.jsx)(w.Text,{multiline:!0,css:A.bulletPointText,children:"Deployments must be manually restarted after suspension."})]})]}),(0,r.jsx)(f.BudgetInput,{type:"hard",value:v.value,onChange:v.setValue,error:null==(o=v.error)?void 0:o.message})]}),!R&&h?(0,r.jsxs)(_.View,{gap:8,width:"100%",css:A.accountSettingsFooter,children:[(0,r.jsx)(b.Button,{text:"Save",colorway:"primary",loading:E,disabled:E||null!==m.error||null!==v.error,onClick:y,iconLeft:E?(0,r.jsx)(P.default,{}):void 0,stretch:!0}),(0,r.jsxs)(_.View,{tag:"a",css:A.learnMoreLink,row:!0,gap:4,align:"center",target:"_blank",href:c.LINKS_DOCS.MANAGING_SPEND,children:["Learn more about usage-based billing ",(0,r.jsx)(S.default,{})]})]}):null,R||h?null:(0,r.jsxs)(_.View,{css:A.footer,children:[(0,r.jsxs)(_.View,{tag:"a",css:A.learnMoreLink,row:!0,gap:4,align:"center",target:"_blank",href:c.LINKS_DOCS.MANAGING_SPEND,children:["Learn more about usage-based billing ",(0,r.jsx)(S.default,{})]}),(0,r.jsx)(b.Button,{text:"Save",colorway:"primary",loading:E,disabled:E||null!==m.error||null!==v.error,onClick:y,iconLeft:E?(0,r.jsx)(P.default,{}):void 0,stretch:!0})]}),(0,r.jsx)(j.Modal,{isOpen:M,onRequestClose:function(){return V(!1)},centered:!0,children:(0,r.jsxs)(_.View,{gap:24,children:[(0,r.jsx)(w.Header,{level:3,variant:"headerDefault",children:"Confirm Service Shutdown"}),(0,r.jsxs)(_.View,{gap:12,children:[(0,r.jsx)(w.Text,{color:"dimmer",children:"We recommend using alerts instead of shutdown limits to avoid service disruptions."}),(0,r.jsx)(w.Text,{children:"When this limit is reached, services will be suspended until the budget is increased or the next billing cycle begins. This will help prevent extra charges."}),(0,r.jsxs)(_.View,{css:A.bulletPoints,gap:0,children:[(0,r.jsxs)(_.View,{css:A.bulletPoint,children:[(0,r.jsx)(w.Text,{children:(0,r.jsx)("span",{"aria-hidden":!0,children:"•"})}),(0,r.jsx)(w.Text,{multiline:!0,css:A.bulletPointText,children:"Cloud services, deployments, and agent access will all be paused."})]}),(0,r.jsxs)(_.View,{css:A.bulletPoint,children:[(0,r.jsx)(w.Text,{children:(0,r.jsx)("span",{"aria-hidden":!0,children:"•"})}),(0,r.jsx)(w.Text,{multiline:!0,css:A.bulletPointText,children:"Any active deployments will go offline, so users won't have access."})]}),(0,r.jsxs)(_.View,{css:A.bulletPoint,children:[(0,r.jsx)(w.Text,{children:(0,r.jsx)("span",{"aria-hidden":!0,children:"•"})}),(0,r.jsx)(w.Text,{multiline:!0,css:A.bulletPointText,children:"Deployments must be manually restarted after suspension."})]})]})]}),(0,r.jsxs)(_.View,{css:A.modalFooter,children:[(0,r.jsx)(b.Button,{disabled:E,onClick:function(){I(),V(!1)},text:"Enable shutdown anyway",colorway:"grey"}),(0,r.jsx)(b.Button,{colorway:"blue",disabled:E,onClick:function(){var e=v.value;m.setValue(e),v.setValue(""),V(!1),D(e,"")},text:"Add alert instead",iconLeft:E?(0,r.jsx)(P.default,{}):void 0})]})]})})]})}e.s(["EditUsageBasedBillingAlertsForm",()=>I,"useEditUsageBasedBillingAlertsForm",()=>U])},929417,e=>{"use strict";var n=e.i(721281),t=e.i(878420),r=e.i(64386),i=e.i(276385),s=e.i(761273),a=e.i(480028),o=e.i(446530),l=e.i(613355),c=e.i(140487),d=e.i(91720),u=e.i(136540),g=e.i(396776),h=e.i(960178),p=e.i(625484),f=e.i(283110),m=(0,o.cssRecord)({banner:[l.rcss.borderRadius(0),l.rcss.overflow("visible"),l.rcss.minHeight(48),{borderTop:"none",borderLeft:"none",borderRight:"none",borderBottom:"none"}],content:[l.rcss.color.foregroundDefault,l.rcss.p(2),l.rcss.width("100%"),l.rcss.display.flex,l.rcss.flex.row,l.rcss.align.center,l.rcss.justify.spaceBetween,l.rcss.position.relative,(0,n._)({},l.media.max("mobileMax"),[l.rcss.p(2)])],buttonContainer:[l.rcss.width("auto"),(0,n._)({},l.media.max("mobileMax"),[l.rcss.width("100%"),l.rcss.py(4),l.rcss.flex.column,l.rcss.gap(4)])],contentContainer:[l.rcss.display.flex,l.rcss.flex.row,l.rcss.align.center,l.rcss.justify.center,l.rcss.gap(16),{flex:1},(0,n._)({},l.media.max("mobileMax"),[l.rcss.flex.column,l.rcss.gap(2)])],headline:[l.rcss.textAlign.center,(0,n._)({},l.media.max("mobileMax"),[l.rcss.fontSize(a.tokens.fontSizeDefault),l.rcss.py(4)])],centerWrapper:[l.rcss.display.flex,l.rcss.flex.row,l.rcss.align.center,l.rcss.justify.center,{flex:1}]}),x=function(e){var n=e.text,a=e.buttonProps,o=e.buttonLinkProps,l=e.colorway,x=e.onDismiss,v=e.className,y=e.children,C=(0,s.useBreakpoint)("mobileMax"),b=(0,i.jsxs)(p.View,{css:m.content,gap:16,children:[(0,i.jsx)(p.View,{css:m.centerWrapper,children:(0,i.jsxs)(p.View,{css:m.contentContainer,children:[(0,i.jsx)(h.Text,{css:m.headline,children:n}),a||o?(0,i.jsxs)(p.View,{css:m.buttonContainer,children:[a?(0,i.jsx)(c.Button,(0,r._)((0,t._)({},a),{size:C?"small":"default"})):null,o?(0,i.jsx)(d.ButtonLink,(0,r._)((0,t._)({},o),{size:C?"small":"default"})):null]}):null,y]})}),x?(0,i.jsx)(u.IconButton,{colorway:l,alt:"Dismiss",onClick:x,children:(0,i.jsx)(f.default,{})}):null]});return(0,i.jsx)(g.StatusBanner,{css:m.banner,className:v,colorway:l,text:b})};e.s(["TopBanner",()=>x])},313264,e=>{"use strict";var n=e.i(878420),t=e.i(569384),r=e.i(973245),i=e.i(304277);e.i(566901);var s=e.i(784691);function a(){var e=(0,t._)(["\n  fragment CreditsUsage on UsageInterval {\n    credits {\n      ... on Credits {\n        availableSubscriptionCredits\n        availableAdditionalCredits\n      }\n    }\n  }\n"]);return a=function(){return e},e}function o(){var e=(0,t._)(["\n  query MonthlyCreditsUser($orgId: String) {\n    currentUser {\n      id\n      usageInterval {\n        ...CreditsUsage\n      }\n      org(orgId: $orgId) {\n        __typename\n        ... on Org {\n          id\n          ...TotalUsageOrg\n          usageInterval {\n            ... on UsageInterval {\n              ...CreditsUsage\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return o=function(){return e},e}var l={},c=(0,r.gql)(a()),d=(0,r.gql)(o(),c,s.TotalUsageOrgFragmentDoc);function u(e){var t,r,s,a,o,c,u,g,h=(t={variables:{orgId:e}},r=(0,n._)({},l,t),i.useQuery(d,r)),p=h.data,f=h.loading,m=h.error,x=0,v=0;return f||m?{hasUserExhaustedMonthlyCredits:!1,unusedCreditCount:0}:(e?(x=(null==p||null==(s=p.currentUser)?void 0:s.org.__typename)==="Org"&&"UsageInterval"===p.currentUser.org.usageInterval.__typename&&"Credits"===p.currentUser.org.usageInterval.credits.__typename?p.currentUser.org.usageInterval.credits.availableSubscriptionCredits:0,v=(null==p||null==(a=p.currentUser)?void 0:a.org.__typename)==="Org"&&"UsageInterval"===p.currentUser.org.usageInterval.__typename&&"Credits"===p.currentUser.org.usageInterval.credits.__typename?p.currentUser.org.usageInterval.credits.availableAdditionalCredits:0):(x=(null==p||null==(c=p.currentUser)||null==(o=c.usageInterval)?void 0:o.__typename)==="UsageInterval"&&"Credits"===p.currentUser.usageInterval.credits.__typename?p.currentUser.usageInterval.credits.availableSubscriptionCredits:0,v=(null==p||null==(g=p.currentUser)||null==(u=g.usageInterval)?void 0:u.__typename)==="UsageInterval"&&"Credits"===p.currentUser.usageInterval.credits.__typename?p.currentUser.usageInterval.credits.availableAdditionalCredits:0),{hasUserExhaustedMonthlyCredits:x+v===0,unusedCreditCount:x+v})}e.s(["useMonthlyCreditsExhausted",()=>u],313264)},233760,998719,e=>{"use strict";var n=e.i(716499),t=e.i(980768),r=e.i(529131);function i(e,i){(0,r.default)(2,arguments);var s=(0,n.default)(i);return(0,t.default)(e,36e5*s)}e.s(["default",()=>i],998719),e.s(["addHours",()=>i],233760)},630928,169900,683151,964159,52664,e=>{"use strict";var n=e.i(878420),t=e.i(569384),r=e.i(973245),i=e.i(304277),s=e.i(566901);function a(){var e=(0,t._)(["\n  fragment IdentifyPayingStateCurrentUser on CurrentUser {\n    id\n    userSubscriptionType\n    userSubscription {\n      isTrial\n    }\n  }\n"]);return a=function(){return e},e}var o=(0,r.gql)(a());function l(){var e=(0,t._)(["\n  fragment FlagCurrentUser on CurrentUser {\n    id\n    email\n    username\n    timeCreated\n    roles {\n      id\n      key\n    }\n  }\n"]);return l=function(){return e},e}function c(){var e=(0,t._)(["\n  query LayoutCurrentUser {\n    currentUser {\n      __typename\n      id\n      isImpersonated\n      isVerified\n      isLoggedIn\n      email\n      signupMethod\n      emailNotifications\n      timeCreated\n      isStaff: hasRole(role: REPLIT_STAFF)\n      roles {\n        id\n        key\n      }\n      hasUserCompletedOnboarding\n      userSubscriptionType\n      ...FlagCurrentUser\n      ...IdentifyPayingStateCurrentUser\n    }\n  }\n  ","\n  ","\n"]);return c=function(){return e},e}var d={},u=(0,r.gql)(l()),g=(0,r.gql)(c(),u,o);function h(e){var t=(0,n._)({},d,e);return i.useQuery(g,t)}function p(e){var t=(0,n._)({},d,e);return s.useLazyQuery(g,t)}e.s(["useLayoutCurrentUserLazyQuery",()=>p,"useLayoutCurrentUserQuery",()=>h],630928);var f=e.i(399528),m=e.i(389959),x=e.i(142685),v=e.i(921521),y=e.i(859445),C=e.i(664152);function b(){var e=(0,v.default)(),n=(0,f.useRouter)();(0,m.useEffect)(function(){var t=function(e){if(!(0,y.default)(e))throw"/"===e||"/~"===e?n.push("/desktopApp/home"):"/login"===e||"/signup"===e?n.push("/desktopApp/auth"):x.desktopAppApi.openExternalUrl(e),C.logger.info("Accessing invalid URL in desktop app",{pathname:n.pathname,url:e}),Error("Invalid navigation in the desktop app, opening URL in browser. Please ignore this error.")};if(e)return n.events.on("routeChangeStart",t),function(){n.events.off("routeChangeStart",t)}},[e,n])}e.s(["default",()=>b],169900);var j=e.i(368964),w=e.i(596139),_=e.i(858248);function k(e){(0,m.useEffect)(function(){if((null==e?void 0:e.__typename)==="CurrentUser"){var n=null==e?void 0:e.userSubscriptionType,t=null==e?void 0:e.userSubscription;if(null==t||null==n)(0,_.identify)({id:e.id.toString(),planName:w.freePlanName});else{var r=n===j.UserSubscriptionTypeEnum.Hacker?w.hackerPlanName:w.corePlanName;(0,_.identify)({id:e.id.toString(),planName:r,isTrial:t.isTrial})}}},[null==e?void 0:e.__typename,null==e?void 0:e.id,null==e?void 0:e.userSubscriptionType,null==e?void 0:e.userSubscription])}e.s(["useIdentifyPayingState",()=>k],683151);var B=e.i(297083),S=e.i(817556),P=e.i(906368),A=e.i(992785),T=e.i(775973),U=e.i(276273);function I(e){var n=(0,T.useLDClient)(),t=null==e?void 0:e.timeCreated;(0,m.useEffect)(function(){(0,B._)(function(){var r,i,s,a;return(0,S._)(this,function(o){switch(o.label){case 0:if(s={key:null==(r=null==e?void 0:e.id)?void 0:r.toString(),kind:"user",name:null==e?void 0:e.username,roles:null!=(i=null==e?void 0:e.roles.map(function(e){return e.key.toLowerCase()}))?i:[],email:null==e?void 0:e.email,time_created:t?Date.parse(t):void 0,_meta:{privateAttributes:["email"]}},!(void 0!==r&&!(0,A.default)(null==n?void 0:n.getContext(),s)))return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,null==n?void 0:n.identify(s)];case 2:return o.sent()&&(0,U.setLdUserId)(r.toString()),[3,4];case 3:return a=o.sent(),P.withScope(function(e){e.setExtra("anon",!1),e.setTag("launchdarkly",!0),P.captureException(a)}),[3,4];case 4:return[2]}})})()},[e,t,n])}e.s(["useIdentifyUserForLaunchDarkly",()=>I],964159);var D=e.i(721281),E=e.i(530658),N=e.i(276385);function M(){var e=(0,t._)(["\n  query MembershipOnboardingTour {\n    currentUser {\n      id\n      hasUserCompletedOnboarding\n      isSubscribed\n      userSubscription {\n        isTrial\n      }\n      org {\n        ... on Org {\n          id\n          planInfo {\n            ... on OrgPlanInfo {\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return M=function(){return e},e}var V={},L=(0,r.gql)(M()),R=e.i(629536),O=e.i(845822),F=e.i(548733),H=e.i(709485),W=e.i(806804),G=e.i(480028),q=e.i(703774),z=e.i(446530),Y=e.i(613355),$=e.i(140487),K=e.i(739521),Q=e.i(624782),Z=e.i(960178),X=e.i(625484),J=e.i(211397),ee=e.i(352767),en=e.i(369948),et=e.i(616278),er=e.i(243914),ei=(0,z.cssRecord)({header:[(0,D._)({},Y.media.min("mobileMax"),[Y.rcss.colWithGap(0),Y.rcss.rowWithGap(8),Y.rcss.align.center,Y.rcss.flex.growAndShrink(1)])],imageWrapper:[Y.rcss.borderRadius(8),Y.rcss.border({color:G.tokens.outlineDimmer,width:1})],image:[Y.rcss.borderRadius(8)],description:[Y.rcss.colWithGap(8),Y.rcss.flex.growAndShrink(1)],docLink:[Y.rcss.rowWithGap(4),Y.rcss.display.inlineFlex,Y.rcss.align.center]});function es(e){var n=e.src;return(0,N.jsx)(J.default,{css:ei.image,src:n,width:720,height:390,alt:""})}function ea(e){var n=e.href;return(0,N.jsxs)(X.SpecializedView.a,{href:n,target:"_blank",css:ei.docLink,onClick:function(){(0,_.track)(H.events.EXTERNAL_LINK_VIEWED,{url:{href:n},source:"membership-onboarding-tour"})},children:[(0,N.jsx)("span",{children:"Learn more"}),(0,N.jsx)(er.default,{})]})}function eo(e){var n=e.planName,t=e.onDone,r=(0,E._)((0,m.useState)(0),2),i=r[0],s=r[1],a=(0,q.useTheme)().isDarkColorScheme,o=[{title:"Welcome to Replit ".concat(n),illustration:(0,N.jsx)(es,{src:a?"/public/images/membership-onboarding/agent-dark.png":"/public/images/membership-onboarding/agent-light.png"}),description:(0,N.jsx)(X.View,{css:ei.description,children:(0,N.jsxs)(Z.Text,{multiline:!0,children:["Enjoy unlimited access to create apps with ",R.AGENT_NAME,"."]})})},{title:"Checkpoints keep track of ".concat(R.AGENT_NAME," progress"),illustration:(0,N.jsx)(es,{src:a?"/public/images/membership-onboarding/checkpoint-dark.png":"/public/images/membership-onboarding/checkpoint-light.png"}),description:(0,N.jsx)(X.View,{css:ei.description,children:(0,N.jsxs)(Z.Text,{multiline:!0,children:["With your plan, you get $",O.CORE_FLEXIBLE_SPEND_USD," of credits each month."," ",(0,N.jsx)(ea,{href:"https://docs.replit.com/billing/ai-billing"})]})})},{title:"Publish to the world with a single click",illustration:(0,N.jsx)(es,{src:a?"/public/images/membership-onboarding/deploy-dark.png":"/public/images/membership-onboarding/deploy-light.png"}),description:(0,N.jsx)(X.View,{css:ei.description,children:(0,N.jsx)(Z.Text,{multiline:!0,children:"Whether you’re sharing with friends or shipping to the world, easily deploy your app directly from Replit."})})},{title:"Refer friends and earn more credits",illustration:(0,N.jsx)(es,{src:a?"/public/images/membership-onboarding/refer-dark.png":"/public/images/membership-onboarding/refer-light.png"}),description:(0,N.jsx)(F.default,{trackingContext:"membership-onboarding-tour"})}];return(0,N.jsxs)(X.View,{gap:16,children:[(0,N.jsxs)(X.View,{css:ei.header,pr:24,gap:8,align:"start",children:[(0,N.jsx)(Z.Header,{multiline:!0,variant:"subheadBig",level:1,children:o[i].title}),(0,N.jsx)(Q.Pill,{text:"".concat(i+1,"/").concat(o.length)})]}),o[i].description,(0,N.jsx)(X.View,{css:ei.imageWrapper,children:o[i].illustration}),(0,N.jsxs)(X.View,{row:!0,gap:8,justify:"space-between",children:[(0,N.jsx)($.Button,{text:"Back",iconLeft:(0,N.jsx)(ee.default,{}),onClick:function(){return s(i-1)},disabled:0===i}),i<o.length-1?(0,N.jsx)($.Button,{text:"Next",iconRight:(0,N.jsx)(en.default,{}),colorway:"primary",onClick:function(){return s(i+1)}}):(0,N.jsx)($.Button,{text:"Done",iconLeft:(0,N.jsx)(et.default,{}),colorway:"primary",onClick:t})]})]})}var el=["/home","/cycles","/usage","/account","/replEnvironmentDesktop"];function ec(){var e,t,r,s,a,o,l,c,d,u,g,h,p,x,v,y,C=(0,W.default)("plan_upgrade","pro-onboarding-tour"),b=C.shouldDisplay,j=C.dismiss,k=C.register,B=(0,f.useRouter)().pathname,S=(e=(0,n._)({},V,void 0),i.useQuery(L,e)),P=S.data,A=S.loading,T=null!=(x=null==P||null==(t=P.currentUser)?void 0:t.hasUserCompletedOnboarding)&&x,U=null!=(v=null==P||null==(r=P.currentUser)?void 0:r.isSubscribed)&&v,I=null!=(y=null==P||null==(a=P.currentUser)||null==(s=a.userSubscription)?void 0:s.isTrial)&&y,D=(null==P||null==(l=P.currentUser)||null==(o=l.org)?void 0:o.__typename)==="Org"&&(null==P||null==(u=P.currentUser)||null==(d=u.org)||null==(c=d.planInfo)?void 0:c.__typename)==="OrgPlanInfo"&&(null==P||null==(p=P.currentUser)||null==(h=p.org)||null==(g=h.planInfo)?void 0:g.name)==="Teams",E=U||D,M=b&&T;return(0,m.useEffect)(function(){el.includes(B)&&!A&&E&&k()},[A,E,k,B]),(0,m.useEffect)(function(){M&&(0,_.track)(H.events.MODAL_VIEWED,{unsolicited:!0,modalName:"pro_onboarding_tour"})},[M]),(0,N.jsx)(K.Modal,{isOpen:M,onRequestClose:j,preventOutsideModalClickClose:!0,children:(0,N.jsx)(eo,{onDone:j,planName:D?w.replitTeamsPlanName:w.corePlanName,isTrialPlan:I})})}e.s(["default",()=>ec],52664)},307172,853260,e=>{"use strict";var n=e.i(878420),t=e.i(569384),r=e.i(973245),i=e.i(304277);e.i(566901);var s=e.i(202068);function a(){var e=(0,t._)(["\n  query ReverseTrialBanner {\n    currentUser {\n      id\n      userSubscriptionType\n      userSubscription {\n        isTrial\n        timeRemainingInTrial\n      }\n      ...TrialWillCancelAtCurrentUser\n    }\n  }\n  ","\n"]);return a=function(){return e},e}var o={},l=(0,r.gql)(a(),s.TrialWillCancelAtCurrentUserFragmentDoc);function c(e){var t=(0,n._)({},o,e);return i.useQuery(l,t)}e.s(["useReverseTrialBannerQuery",()=>c],307172);var d=e.i(233760),u=e.i(199674),g=function(e){return(0,u.differenceInDays)((0,d.addHours)(e,12),new Date)},h=function(e){var n=g(e);return 0===n?"today":1===n?"in 1 day":"in ".concat(n," days")};e.s(["daysUntilTrialEnd",()=>g,"trialEndsAtString",()=>h],853260)},590689,166638,e=>{"use strict";var n=e.i(297083),t=e.i(817556),r=e.i(276385),i=e.i(781230),s=e.i(233760),a=e.i(199674),o=e.i(368964),l=e.i(307172),c=e.i(596139),d=e.i(968783),u=e.i(858248),g=e.i(709485),h=e.i(973519),p=e.i(853260),f=e.i(71271),m=e.i(929417),x=e.i(33914),v=e.i(243914),y=function(){var e=(0,h.useGlobalModal)().show,y=(0,l.useReverseTrialBannerQuery)({ssr:!1}).data,C=(0,d.useCurrentUserStoredOrgContext)().orgId;if((0,i.useIsSSR)()||C)return null;var b=null==y?void 0:y.currentUser;if(!b)return null;var j=b.userSubscription,w=b.userSubscriptionType;if(!j)return null;var _=j.isTrial,k=j.timeRemainingInTrial;if(!_||null==k||w!==o.UserSubscriptionTypeEnum.HackerPro)return null;var B=new Date(k);return(0,p.daysUntilTrialEnd)(B)>30?null:(0,f.trialWillCancelAt)(b)?(0,r.jsx)(m.TopBanner,{colorway:"blurple",text:"Your Replit ".concat(c.corePlanName," Preview is ending ").concat((0,p.trialEndsAtString)(B)),buttonProps:{colorway:"blurple",text:"Upgrade",iconLeft:(0,r.jsx)(x.default,{}),onClick:function(){return(0,n._)(function(){return(0,t._)(this,function(n){switch(n.label){case 0:return(0,u.track)(g.events.MODAL_VIEWED,{modalName:"reverse_trial_banner_upgrade",daysRemaining:(0,a.differenceInDays)((0,s.addHours)(new Date(B),12),new Date)}),[4,e("MembershipPurchaseModal",{analyticsContext:{upgrade:{context:"reverse_trial_banner",surface:"reverse_trial_banner"}}})];case 1:return n.sent(),[2]}})})()}}}):(0,r.jsx)(m.TopBanner,{text:"Your Replit ".concat(c.corePlanName," Preview will renew automatically ").concat((0,p.trialEndsAtString)(B)),buttonLinkProps:{text:"Manage",iconRight:(0,r.jsx)(v.default,{}),href:"/stripe-customer-portal",variant:"outlined"}})};e.s(["ReverseTrialBanner",()=>y],590689);var C=e.i(721281),b=e.i(878420),j=e.i(64386),w=e.i(530658),_=e.i(389959),k=e.i(32988),B=e.i(992785),S=e.i(672963),P=e.i(440593),A={},T=e.i(967629),U=e.i(480028),I=e.i(613355),D=e.i(136540),E=e.i(399144),N=e.i(960178),M=e.i(751273),V=e.i(625484),L=e.i(283110),R=(0,T.css)([{opacity:.5,":not([disabled])":{"&:hover":{backgroundColor:"transparent",opacity:1}}}]),O=V.SpecializedView.div,F=I.DefaultModalZIndex+1;e.s(["default",0,function(){var e=(0,P.useActiveTutorial)(),n=null==e?void 0:e.target,t=null==e?void 0:e.tooltip,i=(0,_.useCallback)(function(){var e=(0,P.default)(),n=(0,j._)((0,b._)({},e),{byContext:(0,j._)((0,b._)({},e.byContext),(0,C._)({},e.currentTutorial.context||"",void 0)),currentTutorial:{}});(0,B.default)(n,e)||(0,P.default)(n)},[]),s=(0,S.default)(i,[i]),a=(0,w._)((0,_.useState)(null),2),o=a[0],l=a[1],c=(0,w._)((0,_.useState)(null),2),d=c[0],u=c[1],g=(0,w._)((0,_.useState)(null),2),h=g[0],p=g[1];(0,_.useEffect)(function(){l(n?A[n]:null)},[n]);var f=(0,k.usePopper)(o,d,{modifiers:[{name:"arrow",options:{element:h,padding:8}},{name:"offset",options:{offset:[0,12]}},{name:"preventOverflow",options:{padding:16}}],placement:"right"}),m=f.styles,x=f.attributes;if(!t)return null;var v=U.tokens.accentPrimaryDimmest;return(0,r.jsx)(E.Portal,{children:(0,r.jsxs)(O,(0,j._)((0,b._)({ref:function(e){s.current=e,u(e)},style:m.popper,css:[{zIndex:F},I.rcss.maxWidth(240)]},x.popper),{children:[(0,r.jsx)(V.View,{css:[I.rcss.borderRadius(4),I.rcss.py(4),I.rcss.pr(2),I.rcss.pl(8),I.rcss.shadow(2),{backgroundColor:v}],children:(0,r.jsxs)(V.View,{row:!0,gap:4,children:[(0,r.jsx)(N.Text,{css:[I.rcss.flex.growAndShrink(1)],children:t}),(0,r.jsx)(D.IconButton,{onClick:i,alt:"Close",tooltipBehavior:"hidden",css:R,children:(0,r.jsx)(L.default,{})})]})}),(0,r.jsx)(O,{ref:p,style:m.arrow,css:[M.arrowCss,{"&::after":{borderColor:v}}]})]}))})}],166638)},578134,e=>{"use strict";var n,t,r,i,s,a,o,l,c,d=e.i(297083),u=e.i(878420),g=e.i(817556),h=e.i(276385),p=e.i(864558),f=e.i(399528),m=e.i(389959),x=e.i(966282),v=e.i(775973),y=e.i(630928),C=e.i(462212),b=e.i(61524),j=e.i(921521),w=e.i(169900),_=e.i(683151),k=e.i(964159),B=e.i(222342),S=e.i(441329),P=e.i(52664),A=e.i(532130),T=e.i(590689),U=e.i(166638),I=e.i(530658),D=e.i(548733),E=e.i(417751),N=e.i(596139),M=e.i(814629),V=e.i(201411),L=e.i(313264),R=e.i(480028),O=e.i(446530),F=e.i(613355),H=e.i(140487),W=e.i(887877),G=e.i(11235),q=e.i(396776),z=e.i(960178),Y=e.i(625484),$=e.i(571073),K=e.i(651499);function Q(e){var n=e.billingPeriodEndDate,t=e.initialSettings,r=e.orgId,i=e.orgName,s=e.onDone,a=void 0!==r,o=(0,L.useMonthlyCreditsExhausted)(r).unusedCreditCount;return(0,h.jsxs)(Y.View,{p:16,gap:16,children:[(0,h.jsxs)(Y.View,{row:!0,gap:8,align:"center",children:[(0,h.jsx)(K.default,{size:20,color:R.tokens.accentNegativeDefault}),(0,h.jsx)(z.Text,{variant:"subheadDefault",children:"Usage budget reached"})]}),(0,h.jsxs)(Y.View,{gap:16,children:[(0,h.jsxs)(z.Text,{"data-chromatic":"ignore",children:[a?"Your team, ".concat(i,", has reached its usage budget."):"You have reached your usage budget for your ".concat(N.corePlanName," subscription.")," ","All services have been suspended and will remain unavailable until you increase your budget or usage resets",n?" on ".concat((0,E.format)(new Date(n),"MMM do, hh:mm aaa")):" when your billing period ends","."]}),(0,h.jsxs)(G.Prose,{children:[(0,h.jsx)(z.Text,{children:"What this means:"}),(0,h.jsxs)("ul",{css:X.usageList,children:[(0,h.jsx)("li",{children:"Agent access, cloud services and deployments are halted."}),(0,h.jsx)("li",{children:"Active deployments are offline and inaccessible."})]})]}),(0,h.jsx)(z.Text,{children:"Increase your usage budget now to immediately restore services and avoid further disruptions."}),!!o&&(0,h.jsx)(q.StatusBanner,{icon:(0,h.jsx)($.default,{size:20}),text:(0,h.jsxs)(Y.View,{gap:4,children:[(0,h.jsx)(Y.View,{children:(0,h.jsxs)(z.Text,{children:["You have $",o," unused free credits available. You can utilize these credits once you increase your budget limit."]})}),(0,h.jsx)(Y.View,{children:(0,h.jsx)(z.Text,{variant:"small",color:"dimmer",children:"Credits apply immediately when services resume."})})]})}),(0,h.jsx)(Z,{orgId:r,initialSettings:t,onDone:s})]})]})}function Z(e){var n,t=(0,V.useEditUsageBasedBillingAlertsForm)(e),r=t.hardAlertField,i=t.saveAlerts,s=t.loading;return(0,h.jsxs)(W.Form,{css:X.budgetForm,onSubmit:function(e){e.preventDefault(),i()},children:[(0,h.jsx)(M.BudgetInput,{type:"hard",value:r.value,onChange:r.setValue,error:null==(n=r.error)?void 0:n.message,label:"Usage budget"}),(0,h.jsx)(H.Button,{type:"submit",text:"Save",colorway:"primary",loading:s})]})}var X=(0,O.cssRecord)({usageList:[{paddingLeft:R.tokens.space12,li:[{listStyleType:"disc"}]}],budgetForm:[F.rcss.flex.row,F.rcss.justify.spaceBetween,F.rcss.align.end]}),J=e.i(409823),ee=e.i(761201),en=e.i(845822),et=e.i(243914),er=e.i(940745),ei=(0,O.cssRecord)({root:[F.rcss.gap(8)],header:[F.rcss.rowWithGap(8),F.rcss.align.center],headerText:[F.rcss.flex.growAndShrink(1)],monthlyCreditsHeaderText:[F.rcss.flex.growAndShrink(1)],monthlyCreditsBar:[F.rcss.borderRadius(),F.rcss.height(4),{background:R.tokens.accentPrimaryDefault}],usageList:[{paddingLeft:R.tokens.space8,li:[{listStyleType:"disc"}]}],learnMoreLink:[F.rcss.hover({color:R.tokens.accentPrimaryStrongest})]});function es(e){var n=e.billingPeriodEndDate,t=e.orgId,r=e.orgName;return(0,h.jsxs)(Y.View,{p:16,gap:16,children:[(0,h.jsxs)(Y.View,{css:ei.header,children:[(0,h.jsx)(K.default,{size:20}),(0,h.jsxs)(z.Text,{variant:"subheadDefault",css:ei.headerText,children:[void 0!==t?"Your team, ".concat(r," has used all its credits"):"You've used all your credits"," "]})]}),(0,h.jsxs)(Y.View,{gap:2,children:[(0,h.jsxs)(Y.View,{row:!0,gap:8,align:"center",children:[(0,h.jsx)(z.Text,{css:ei.monthlyCreditsHeaderText,children:"Credits"}),(0,h.jsx)(z.Text,{variant:"small",color:"dimmest",children:"100% used"})]}),(0,h.jsx)(Y.View,{css:ei.monthlyCreditsBar})]}),(0,h.jsxs)(G.Prose,{children:[(0,h.jsx)(z.Text,{children:"All additional usage will now be billed to your payment method."}),(0,h.jsxs)("ul",{css:ei.usageList,children:[(0,h.jsxs)("li",{children:["Variable pricing per Agent ",en.AGENT_USAGE_UNIT]}),(0,h.jsxs)("li",{children:[en.ASSISTANT_UNIT_PRICE_IN_CENTS," cents per Assistant"," ",en.ASSISTANT_USAGE_UNIT]}),(0,h.jsx)("li",{children:"Additional costs for deployments, object storage, and outbound data transfer may apply"})]})]}),(0,h.jsxs)(z.Text,{color:"dimmer","data-chromatic":"ignore",children:["Monthly credits will reset on"," ",(0,J.default)(new Date(n),"MMM do, hh:mm aaa"),"."]}),(0,h.jsx)(Y.View,{row:!0,gap:8,align:"center",justify:"space-between",children:(0,h.jsxs)(Y.View,{tag:"a",css:ei.learnMoreLink,row:!0,gap:4,align:"center",target:"_blank",href:ee.LINKS_DOCS.AGENT_ASSISTANT_BILLING,children:["Learn more about usage-based billing ",(0,h.jsx)(et.default,{})]})})]})}function ea(e){var n,t,r=!!(null==(n=e.initialSettings)?void 0:n.softAlert),i=(0,V.useEditUsageBasedBillingAlertsForm)(e),s=i.softAlertField,a=i.saveAlerts,o=i.loading;return(0,h.jsxs)(W.Form,{css:ei.root,onSubmit:function(e){e.preventDefault(),a()},children:[(0,h.jsx)(Y.View,{css:ei.header,children:(0,h.jsx)(z.Text,{variant:"subheadDefault",css:ei.headerText,children:r?"Would you like to edit your usage alert?":"Would you like to set a usage alert?"})}),(0,h.jsx)(z.Text,{children:"You can stay on top of your spending by setting a usage alert. Choose an amount, and we’ll notify you if your spending reaches it — no interruptions, just a helpful heads-up."}),(0,h.jsx)(M.BudgetInput,{type:"soft",value:s.value,onChange:s.setValue,error:null==(t=s.error)?void 0:t.message,label:"Usage alert"}),(0,h.jsx)(Y.View,{row:!0,children:(0,h.jsx)(H.Button,{type:"submit",text:"Set usage alert",colorway:"primary",loading:o,iconLeft:o?(0,h.jsx)(er.default,{}):void 0,stretch:!1})})]})}var eo=e.i(91720),el=e.i(873449);function ec(e){var n=e.orgId,t=e.onDismiss;return n?null:(0,h.jsxs)(Y.View,{p:16,gap:16,children:[(0,h.jsxs)(Y.View,{row:!0,gap:8,align:"center",children:[(0,h.jsx)(el.default,{size:20}),(0,h.jsx)(z.Text,{variant:"subheadDefault",children:"Congratulations!"})]}),(0,h.jsx)(z.Text,{children:"You've used your $25 credit pack to build software with Agent."}),(0,h.jsxs)(z.Text,{children:["We will automatically give you additional $25 credit packs at the start of every month as part of your ",N.corePlanName," membership. In the meantime, you will only pay for what you use as you continue building and publishing apps."]}),(0,h.jsxs)(Y.View,{row:!0,gap:8,justify:"end",children:[(0,h.jsx)(eo.ButtonLink,{text:"Learn more about usage-based billing",target:"_blank",variant:"outlined",href:ee.LINKS_DOCS.AGENT_ASSISTANT_BILLING,iconRight:(0,h.jsx)(et.default,{})}),(0,h.jsx)(H.Button,{text:"Continue Building",onClick:t,colorway:"primary"})]})]})}var ed=function(e){var n=e.isOrg,t=e.orgSlug,r=e.orgName,i=e.threshold,s=e.onDone,a=i.toLocaleString("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2});return(0,h.jsxs)(Y.View,{p:16,gap:16,children:[(0,h.jsxs)(Y.View,{row:!0,gap:8,align:"center",children:[(0,h.jsx)(K.default,{size:20}),(0,h.jsx)(z.Text,{variant:"subheadDefault",children:"Usage alert"})]}),(0,h.jsxs)(z.Text,{children:[n?"Your team, ".concat(r,", has reached the set usage alert amount of ").concat(a," \n          beyond monthly credits."):"You've reached your usage alert amount of ".concat(a," beyond\n        your monthly credits.")," ","You can view a detailed usage breakdown on the Usage Page."]}),(0,h.jsx)(eo.ButtonLink,{iconLeft:(0,h.jsx)(K.default,{}),text:"View usage page",href:n?"/t/".concat(t,"/usage"):"/usage",css:eu.viewUsagePageButton,onClick:s})]})},eu=(0,O.cssRecord)({viewUsagePageButton:[{width:"fit-content"}]}),eg=e.i(346715),eh=e.i(569384),ep=e.i(973245),ef=e.i(613141),em=e.i(304277);e.i(566901);var ex=e.i(951262),ev=e.i(696683);function ey(){var e=(0,eh._)(["\n  fragment UsageBasedBillingAlertNotification on UsageBasedBillingAlertNotification {\n    id\n    threshold\n    billingPeriodEnd\n    user {\n      id\n      usageBasedBillingAlerts {\n        ...EditUsageBasedBillingAlertsFormInitialConfig\n      }\n    }\n    alert {\n      id\n      threshold\n      alertActionType\n    }\n    org {\n      id\n      name\n      slug\n      usageBasedBillingAlerts {\n        ...EditUsageBasedBillingAlertsFormInitialConfig\n      }\n    }\n  }\n  ","\n"]);return ey=function(){return e},e}function eC(){var e=(0,eh._)(["\n  subscription UBBAlertNotifications($orgId: String) {\n    usageBasedBillingAlertNotifications(orgId: $orgId) {\n      id\n      ...UsageBasedBillingAlertNotification\n    }\n  }\n  ","\n"]);return eC=function(){return e},e}function eb(){var e=(0,eh._)(["\n  query UsageBasedBillingAlertCurrentUser {\n    currentUser {\n      id\n    }\n  }\n"]);return eb=function(){return e},e}function ej(){var e=(0,eh._)(["\n  mutation DismissUBBAlertNotification(\n    $input: UpdateUbbAlertNotificationInput!\n  ) {\n    updateUbbAlertNotification(input: $input) {\n      ... on UsageBasedBillingAlertNotification {\n        id\n        isDismissed\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n"]);return ej=function(){return e},e}var ew={},e_=(0,ep.gql)(ey(),ev.EditUsageBasedBillingAlertsFormInitialConfigFragmentDoc),ek=(0,ep.gql)(eC(),e_),eB=(0,ep.gql)(eb()),eS=(0,ep.gql)(ej()),eP=e.i(968783);function eA(){var e=(0,eh._)(["\n  fragment UsageBasedBillingCreditBalanceDepletedNotification on UsageBasedBillingCreditBalanceDepletedNotification {\n    id\n    billingPeriodEnd\n    org {\n      id\n      name\n      slug\n      usageBasedBillingAlerts {\n        ...EditUsageBasedBillingAlertsFormInitialConfig\n      }\n    }\n    user {\n      id\n      usageBasedBillingAlerts {\n        ...EditUsageBasedBillingAlertsFormInitialConfig\n      }\n    }\n  }\n  ","\n"]);return eA=function(){return e},e}function eT(){var e=(0,eh._)(["\n  subscription UBBCreditDepletedNotifications {\n    usageBasedBillingCreditBalanceDepletedNotifications {\n      id\n      ...UsageBasedBillingCreditBalanceDepletedNotification\n    }\n  }\n  ","\n"]);return eT=function(){return e},e}function eU(){var e=(0,eh._)(["\n  query UsageBasedBillingCreditBalanceDepletedCurrentUser {\n    currentUser {\n      id\n    }\n  }\n"]);return eU=function(){return e},e}function eI(){var e=(0,eh._)(["\n  mutation DismissUBBCreditBalanceDepletedNotification(\n    $input: UpdateUbbCreditBalanceDepletedNotificationInput!\n  ) {\n    updateUbbCreditBalanceDepletedNotification(input: $input) {\n      ... on UsageBasedBillingCreditBalanceDepletedNotification {\n        id\n        isDismissed\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n"]);return eI=function(){return e},e}var eD={},eE=(0,ep.gql)(eA(),ev.EditUsageBasedBillingAlertsFormInitialConfigFragmentDoc),eN=(0,ep.gql)(eT(),eE),eM=(0,ep.gql)(eU()),eV=(0,ep.gql)(eI()),eL=e.i(78433),eR=e.i(739521),eO=e.i(441164),eF=e.i(943565),eH=function(e){var n,t,r,i,s;if(e)return(null==(n=e.org)?void 0:n.id)!==void 0?(null==(i=e.org)?void 0:i.usageBasedBillingAlerts.__typename)==="UsageBasedBillingAlertsConfig"?null==(s=e.org)?void 0:s.usageBasedBillingAlerts:void 0:(null==(t=e.user)?void 0:t.usageBasedBillingAlerts.__typename)==="UsageBasedBillingAlertsConfig"?null==(r=e.user)?void 0:r.usageBasedBillingAlerts:void 0};function eW(e){var n,t,r,i,s,a,o,l,c,d,u,g=e.creditBalanceDepletedNotification,p=e.softAlert,f=e.hardAlert,x=e.onDismissCreditBalanceDepletedNotifications,v=e.onDismissAlertNotification,y=e.experimentVariation,C=(0,I._)((0,m.useState)(0),2),b=C[0],j=C[1];(0,m.useEffect)(function(){"noPopUp"===y&&g&&x(g.id)},[y,g,x]);var w=function(e){var n,t;1===b&&(null==g||null==(n=g.org)?void 0:n.id)?e():2!==b||(null==g||null==(t=g.org)?void 0:t.id)?j(function(e){return e+1}):e()},_=function(){j(function(e){return e-1})};return g?"noPopUp"===y?null:"popUpNoAlert"!==y||(null==(n=g.org)?void 0:n.id)?(0,h.jsx)(eR.Modal,{isOpen:!0,onRequestClose:function(){return x(g.id)},noPadding:!0,maxWidth:"600px",children:(0,h.jsxs)(eO.default,{stepIndex:b,onNextStep:function(){return w(function(){x(g.id)})},onPrevStep:function(){return _()},children:[(0,h.jsx)(es,{orgId:null==(t=g.org)?void 0:t.id,orgName:null==(r=g.org)?void 0:r.name,billingPeriodEndDate:g.billingPeriodEnd}),(0,h.jsx)(ea,{orgId:null==(i=g.org)?void 0:i.id,initialSettings:eH(g),onDone:function(){return w(function(){x(g.id)})}}),!(null==(s=g.org)?void 0:s.id)&&(0,h.jsxs)(Y.View,{gap:16,children:[(0,h.jsxs)(Y.View,{row:!0,align:"center",gap:8,children:[(0,h.jsx)($.default,{size:20}),(0,h.jsx)(z.Text,{variant:"subheadDefault",children:"Refer and earn more credits!"})]}),(0,h.jsx)(D.default,{trackingContext:"usage-page-notification-modal"})]})]})}):(0,h.jsx)(eR.Modal,{isOpen:!0,onRequestClose:function(){return x(g.id)},noPadding:!0,maxWidth:"600px",children:(0,h.jsx)(ec,{orgId:null==(a=g.org)?void 0:a.id,orgName:null==(o=g.org)?void 0:o.name,billingPeriodEndDate:g.billingPeriodEnd,onDismiss:function(){return x(g.id)}})}):f?(0,h.jsx)(eR.Modal,{isOpen:!0,onRequestClose:function(){v(f,"hard")},children:(0,h.jsx)(Q,{billingPeriodEndDate:f.billingPeriodEnd,initialSettings:eH(f),orgId:null==(l=f.org)?void 0:l.id,orgName:null==(c=f.org)?void 0:c.name,onDone:function(){v(f,"hard")}},f.id)}):p?(0,h.jsx)(eR.Modal,{isOpen:!0,onRequestClose:function(){v(p,"soft")},children:(0,h.jsx)(ed,{isOrg:!!p.org,threshold:p.alert.threshold,orgSlug:null==(d=p.org)?void 0:d.slug,orgName:null==(u=p.org)?void 0:u.name,onDone:function(){v(p,"soft")}},p.id)}):null}function eG(){var e,n,t,r,i,s,a,o,l,c,d,g,p,x,v,y,C,b,j,w,_,k,B,S,P,A,T,U,D,E,N,M,V,L,R,O,F,H,W,G,q=(0,f.useRouter)(),z=(0,eL.shouldShowUsageAlert)(q.pathname),Y=(0,eF.useGetExperimentParam)("25_credit_hit_popup","variation","false"),$=(i=(e=(0,u._)({},eD,void 0),r=em.useQuery(eM,e)).data,s=r.loading,c=(a={skip:(null==i||null==(n=i.currentUser)?void 0:n.__typename)!=="CurrentUser"||s},o=(0,u._)({},eD,a),l=ef.useSubscription(eN,o)).data,d=l.loading,g=l.error,x=(0,I._)((p=(0,u._)({},eD,void 0),ex.useMutation(eV,p)),1)[0],y=(v=(0,I._)((0,m.useState)(new Set),2))[0],C=v[1],{notifications:(null!=(t=null==c?void 0:c.usageBasedBillingCreditBalanceDepletedNotifications)?t:[]).filter(function(e){var n=e.id;return!y.has(n)}),loading:d,error:g,onDismiss:function(e){C(function(n){return new Set((0,eg._)(n).concat([e]))}),x({variables:{input:{notificationId:e}}})}}),K=$.notifications,Q=$.loading,Z=$.error,X=$.onDismiss,J=(k=(b=(0,u._)({},ew,void 0),_=em.useQuery(eB,b)).data,B=_.loading,U=(P={variables:{orgId:null!=(S=(0,eP.useCurrentUserStoredOrgContext)().orgId)?S:void 0},skip:(null==k||null==(j=k.currentUser)?void 0:j.__typename)!=="CurrentUser"||B},A=(0,u._)({},ew,P),T=ef.useSubscription(ek,A)).data,D=T.loading,E=T.error,M=(0,I._)((N=(0,u._)({},ew,void 0),ex.useMutation(eS,N)),1)[0],L=(V=(0,I._)((0,m.useState)(new Set),2))[0],R=V[1],O=null!=(w=null==U?void 0:U.usageBasedBillingAlertNotifications)?w:[],H=(F=function(e){return O.filter(function(n){return n.alert.alertActionType===e&&!L.has(n.id)})})("soft"),W=F("hard"),G=function(e,n){R(function(n){return new Set((0,eg._)(n).concat([e]))}),M({variables:{input:{notificationAlertId:e,timeDismissed:n}}})},{softAlertNotifications:H,hardAlertNotifications:W,loading:D,error:E,onDismiss:function(e,n){var t=new Date().toISOString();if(G(e.id,t),"hard"===n){var r=H.find(function(n){var t;return e.org?(null==(t=n.org)?void 0:t.id)===e.org.id:n.user.id===e.user.id});r&&G(r.id,t)}}}),ee=J.softAlertNotifications,en=J.hardAlertNotifications,et=J.loading,er=J.error,ei=J.onDismiss,es=Y();if(!z||et||er||Q||Z)return null;var ea=K.length>0?K[0]:null,eo=ee.length>0?ee[0]:null,el=en.length>0?en[0]:null;return(0,h.jsx)(eW,{creditBalanceDepletedNotification:ea,softAlert:eo,hardAlert:el,onDismissCreditBalanceDepletedNotifications:X,onDismissAlertNotification:ei,experimentVariation:es})}var eq=e.i(879226),ez=e.i(929872);e.i(33699);var eY=e.i(737250),e$=(e.i(344188),e.i(929417)),eK=e.i(121817);let eQ=function(){var e=(0,B.default)(),n=(e.showConfirm,e.showError,(0,eY.useEmailVerificationResend)()),t=n.resendVerification,r=n.isInCooldown,i=n.cooldownTimeRemaining;return(0,h.jsx)(e$.TopBanner,{colorway:"primary",text:r?"Resend in ".concat(i," seconds"):"Please verify your email.",buttonProps:{variant:r?"outlined":"default",onClick:t,text:"Resend verification link",colorway:"primary",iconLeft:(0,h.jsx)(eK.default,{}),disabled:r},children:!1})};var eZ=e.i(13755),eX=e.i(219577),eJ=e.i(721281),e0=e.i(64386),e1=e.i(330666),e2=e.i(428596),e6=e.i(656388),e4=e.i(702762),e9=e.i(606265),e7=e.i(317175),e8=e.i(987882),e3=e.i(690472),e5=[{key:"python3",displayName:"Python"},{key:"javascript",displayName:"JavaScript"},{key:"typescript",displayName:"TypeScript"},{key:"nodejs",displayName:"Node.js"},{key:"nix",displayName:"Nix (beta)"},{key:"html",displayName:"HTML, CSS, JS"},{key:"cpp",displayName:"C++"},{key:"go",displayName:"Go"}],ne=[{text:"IDE",href:"/site/ide"},{text:"Multiplayer",href:"/site/multiplayer"},{text:"Publishing",href:"/site/deployments"},{text:"Replit AI",href:"/ai"}],nn=(0,O.cssRecord)({footer:(0,eJ._)({padding:"24px 16px 64px",backgroundColor:R.tokens.backgroundDefault},(0,e4.screenMediaForMinWidth)("tabletMax"),{paddingTop:64}),footerInner:{margin:"0 auto",maxWidth:1440,display:"grid",gridTemplateColumns:"repeat(12, 1fr)",columnGap:16,rowGap:32},footerSectionContainer:(0,eJ._)({gridColumn:"span 6"},(0,e4.screenMediaForMinWidth)("tabletMax"),{gridColumn:"span 2"}),footerSectionHeader:{fontSize:R.tokens.fontSizeDefault,fontWeight:R.tokens.fontWeightMedium,paddingBottom:12},footerSectionList:{display:"flex",flexDirection:"column",gap:8},footerSectionLink:[F.rcss.transition.snappy,{color:R.tokens.foregroundDimmer,":hover":{color:R.tokens.accentPrimaryStronger}}],languageLinkRoot:(r={gridColumn:"span 6"},(0,eJ._)(r,(0,e4.screenMediaForMinWidth)("tabletMax"),{gridColumn:"span 3"}),(0,eJ._)(r,"a",[F.rcss.transition.snappy,{display:"block",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",paddingRight:"10%",color:R.tokens.foregroundDimmer,":hover":{color:R.tokens.accentPrimaryStronger}}]),r),socialSection:(0,eJ._)({gridColumn:"span 12"},(0,e4.screenMediaForMinWidth)("tabletMax"),{gridColumn:"span 4"}),socialLinks:{display:"flex",flexDirection:"row",columnGap:24,rowGap:8,flexWrap:"wrap",marginTop:8},socialLink:[F.rcss.transition.snappy,{color:R.tokens.foregroundDimmer,":hover":{color:R.tokens.accentPrimaryStronger}}],languageSection:(i={gridColumn:"span 12"},(0,eJ._)(i,(0,e4.screenMediaForMinWidth)("tabletMax"),{gridColumn:"5 / span 8"}),(0,eJ._)(i,"display","grid"),(0,eJ._)(i,"gridTemplateColumns","repeat(12, 1fr)"),(0,eJ._)(i,"columnGap",16),i),languageSectionHeader:{fontSize:R.tokens.fontSizeDefault,fontWeight:R.tokens.fontWeightMedium,paddingBottom:12,gridColumn:"span 12"},languageSectionList:{gridColumn:"span 12",display:"grid",gridTemplateColumns:"repeat(12, 1fr)",columnGap:16,rowGap:8},copyright:{marginBottom:10}}),nt=function(e){var n=e.title,t=e.children;return(0,h.jsxs)("div",{css:nn.footerSectionContainer,children:[(0,h.jsx)("h2",{css:nn.footerSectionHeader,children:n}),(0,h.jsx)("ul",{css:nn.footerSectionList,children:t})]})},nr=function(e){var n=e.title,t=e.children;return(0,h.jsxs)("div",{css:nn.languageSection,children:[(0,h.jsx)("h2",{css:nn.languageSectionHeader,children:n}),(0,h.jsx)("ul",{css:nn.languageSectionList,children:t})]})},ni=function(e){var n=e.href,t=e.text,r=e.canonical,i=e.blank;return(0,h.jsx)("li",{children:(0,h.jsx)("a",(0,e0._)((0,u._)({href:n},r&&{rel:"canonical"},i&&{target:"_blank",rel:"noopener noreferrer"}),{css:nn.footerSectionLink,children:t}))})},ns=function(e){var n=e.href,t=e.text;return(0,h.jsx)("li",{css:nn.languageLinkRoot,children:(0,h.jsx)("a",{href:n,rel:"canonical",children:t})})},na=function(e){var n=e.href,t=e.alt,r=e.icon;return(0,h.jsx)("li",{children:(0,h.jsx)("a",{href:n,css:nn.socialLink,children:(0,h.jsxs)(Y.View,{children:[r,(0,h.jsx)(e1.VisuallyHidden,{children:t})]})})})};function no(e){var n=e.shortPage,t=(0,e2.useIdSeed)();return(0,h.jsx)("footer",{css:nn.footer,children:(0,h.jsxs)("div",{css:nn.footerInner,children:[(0,h.jsxs)(Y.View,{css:nn.socialSection,children:[(0,h.jsxs)(Y.View,{children:[void 0!==n&&n?null:(0,h.jsx)(e6.LogoHorizontal,{}),(0,h.jsxs)(z.Text,{color:"dimmer",css:nn.copyright,children:["Copyright © ",new Date().getFullYear()," Replit, Inc. All rights reserved."]})]}),(0,h.jsxs)("ul",{css:nn.socialLinks,children:[(0,h.jsx)(na,{href:"https://twitter.com/replit",alt:"twitter",icon:(0,h.jsx)(e3.default,{})}),(0,h.jsx)(na,{href:"https://www.tiktok.com/@replit",alt:"tiktok",icon:(0,h.jsx)(e8.default,{})}),(0,h.jsx)(na,{href:"https://instagram.com/repl.it",alt:"instagram",icon:(0,h.jsx)(e7.default,{})}),(0,h.jsx)(na,{href:"https://facebook.com/repl.it",alt:"facebook",icon:(0,h.jsx)(e9.default,{})})]})]}),(0,h.jsxs)(nt,{title:"Replit",children:[(0,h.jsx)(ni,{href:"/mobile",text:"Mobile app",canonical:!0}),(0,h.jsx)(ni,{href:"https://blog.replit.com",text:"Blog",canonical:!0}),(0,h.jsx)(ni,{href:"/careers",text:"Careers",canonical:!0}),(0,h.jsx)(ni,{href:"/about",text:"About",canonical:!0}),(0,h.jsx)(ni,{href:"/pricing",text:"Pricing",canonical:!0})]}),(0,h.jsxs)(nt,{title:"Legal",children:[(0,h.jsx)(ni,{href:ee.LINKS_LEGAL.TERMS_OF_SERVICE,text:"Terms of Service"}),(0,h.jsx)(ni,{href:ee.LINKS_LEGAL.REPLIT_TEAMS_TERMS,text:"Replit Teams Agreement"}),(0,h.jsx)(ni,{href:ee.LINKS_LEGAL.PRIVACY_POLICY,text:"Privacy"}),(0,h.jsx)(ni,{href:ee.LINKS_LEGAL.SUBPROCESSORS,text:"Subprocessors",canonical:!0}),(0,h.jsx)(ni,{href:ee.LINKS_LEGAL.DATA_PROCESSING_AGREEMENT,text:"DPA"}),(0,h.jsx)(ni,{href:"https://docs.replit.com/legal-and-security-info/abuse-report",text:"Report Abuse"})]}),(0,h.jsx)(nt,{title:"Features",children:ne.map(function(e){return(0,h.jsx)(ni,{href:e.href,text:e.text},t(e.text))})}),(0,h.jsxs)(nt,{title:"Handy links",children:[(0,h.jsx)(ni,{href:"/languages",text:"Languages",canonical:!0}),(0,h.jsx)(ni,{href:"https://docs.replit.com",text:"Docs",canonical:!0}),(0,h.jsx)(ni,{href:"/help",text:"Support",canonical:!0}),(0,h.jsx)(ni,{href:"/community",text:"Community",blank:!0}),(0,h.jsx)(ni,{href:"https://status.replit.com",text:"Status"}),(0,h.jsx)(ni,{href:"https://replit.com/github",text:"Import from GitHub"}),(0,h.jsx)(ni,{href:"https://replit.com/comparison",text:"Copilot alternative"}),(0,h.jsx)(ni,{href:"https://replit.com/brandkit",text:"Brand Kit"}),(0,h.jsx)(ni,{href:"https://replit.com/partnerships",text:"Partnerships"})]}),(0,h.jsx)(nr,{title:"Programming languages",children:e5.map(function(e){return(0,h.jsx)(ns,{href:"/languages/".concat("golang"===e.key?"go":e.key),text:"Go"===e.displayName?"Golang":e.displayName},t("".concat(e.key,":").concat(e.displayName)))})})]})})}var nl=e.i(442121),nc=e.i(294426);let nd=function(){var e=(0,nl.useApolloClient)(),n=(0,I._)((0,m.useState)(!1),2),t=n[0],r=n[1];return(0,h.jsx)("div",{onClick:function(){t&&r(!1)},onKeyDown:function(e){(" "===e.key||"Spacebar"===e.key)&&t&&r(!1)},className:"status-banner",css:{cursor:t?"pointer":"default",height:t?"10px":"auto",position:"fixed",zIndex:500,bottom:0,width:"100%",backgroundColor:t?"rgba(229,34,34)":"rgba(229,34,34, .4)",padding:10*!t,display:"flex",justifyContent:"center",alignItems:"center",gap:R.tokens.space16},children:t?null:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(z.Text,{variant:"text",multiline:!1,children:"Warning - user impersonated!"}),(0,h.jsxs)("div",{css:[F.rcss.flex.row,F.rcss.rowWithGap(4)],children:[(0,h.jsx)(H.Button,{onClick:function(){r(!t)},text:"hide"}),(0,h.jsx)(H.Button,{onClick:function(){return(0,d._)(function(){return(0,g._)(this,function(n){switch(n.label){case 0:return[4,(0,nc.signOut)(e)];case 1:return n.sent(),window.location.pathname="/logout",[2]}})})()},text:"Log out"})]})]})})};var nu=e.i(705095),ng=e.i(412160);(n=s||(s={})).X="x",n.Y="y",(t=a||(a={})).Up="up",t.Down="down",t.Left="left",t.Right="right",t.Still="still";var nh=e.i(252890),np=e.i(672963),nf=e.i(904851),nm=e.i(90659),nx=1e3/60,nv=e.g.requestAnimationFrame||function(e){setTimeout(e,nx)};let ny=function(e){var n=!1,t=function(){e(),n=!1};return function(){n||(n=!0,nv(t))}},nC=new(function(){function n(){(0,nf._)(this,n),(0,eJ._)(this,"isListening",void 0),(0,eJ._)(this,"listeners",void 0),this.isListening=!1,this.listeners=[],this.onScroll=this.onScroll.bind(this),this.onScroll=ny(this.onScroll),this.manageWindowEventListener()}return(0,nm._)(n,[{key:"destroy",value:function(){this.isListening=!1,this.listeners=[],e.g.removeEventListener("scroll",this.onScroll),e.g.removeEventListener("resize",this.onScroll)}},{key:"listen",value:function(e){this.listeners.indexOf(e)>-1||(this.listeners.push(e),this.manageWindowEventListener())}},{key:"unlisten",value:function(e){var n=this.listeners.indexOf(e);n>-1&&this.listeners.splice(n,1),this.manageWindowEventListener()}},{key:"onScroll",value:function(){for(var n={x:e.g.pageXOffset,y:e.g.pageYOffset,height:e.g.innerHeight,width:e.g.innerWidth},t=0;t<this.listeners.length;t++){var r=this.listeners[t];r&&this.listeners.indexOf(r)>-1&&r(n)}}},{key:"manageWindowEventListener",value:function(){this.listeners.length&&!this.isListening?(e.g.addEventListener("scroll",this.onScroll),e.g.addEventListener("resize",this.onScroll),this.isListening=!0):!this.listeners.length&&this.isListening&&(e.g.removeEventListener("scroll",this.onScroll),e.g.removeEventListener("resize",this.onScroll),this.isListening=!1)}}]),n}()),nb=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=(0,I._)((0,m.useState)(!1),2),r=t[0],i=t[1];return(0,m.useEffect)(function(){var t=function(){var t=e.g.scrollY||e.g.pageYOffset||document.body.scrollTop+(document.documentElement&&document.documentElement.scrollTop||0);t>=n&&!r?i(!0):t<n&&r&&i(!1)};return nC.listen(t),function(){nC.unlisten(t)}},[n,r]),r};var nj=e.i(703774),nw=e.i(612372),n_=e.i(61667),nk=[F.rcss.font.brandDefault,F.rcss.zIndex(eX.HEADER_Z_INDEX),F.rcss.position.sticky,F.rcss.top(0),F.rcss.width("100%"),{transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms"}],nB=[F.rcss.position.absolute,F.rcss.top(0),F.rcss.left(0)],nS=[F.rcss.display.flex,F.rcss.color.foregroundDefault,F.brandFontDefault,{borderBottom:"1px solid rgba(0, 0, 0, 0.1)",fontSize:"30px",lineHeight:"35px",fontWeight:512,"& a":{color:"inherit"}}],nP=[F.rcss.height(32),F.rcss.width(32),F.rcss.p(6),F.rcss.display.flex,F.rcss.align.center,F.rcss.justify.center,{appearance:void 0,border:"none",cursor:"pointer","& svg":{color:"inherit"}}],nA=(0,O.cssRecord)({header:(0,eg._)(nk).concat([F.rcss.backgroundColor.backgroundDefault]),headerTransparent:(0,eg._)(nk).concat([F.rcss.position.fixed]),headerAway:(0,eg._)(nk).concat([{transform:"translateY(-80px)"}]),headerShowMobileNav:(0,eg._)(nk),container:[F.brandStyles.layout.siteContainer,F.rcss.height(60),F.rcss.px(24),F.rcss.position.relative,(o={},(0,eJ._)(o,F.media.min(1e3),[F.rcss.height(70)]),(0,eJ._)(o,F.media.min(1200),[F.rcss.px(0),F.rcss.display.grid,{gridTemplateColumns:"repeat(14, minmax(0, 1fr))"}]),o)],content:[F.rcss.display.grid,F.rcss.align.center,F.rcss.py(16),F.rcss.width("100%"),(l={gridTemplateColumns:"repeat(2, minmax(0, 1fr))",marginRight:"auto",marginLeft:"auto"},(0,eJ._)(l,F.media.min(1e3),[{gridTemplateColumns:"repeat(8, minmax(0, 1fr))"}]),(0,eJ._)(l,F.media.min(1200),[{gridColumnStart:"2",gridColumnEnd:"span 12"}]),l)],logo:[F.rcss.zIndex(eX.HEADER_Z_INDEX),(c={gridColumn:"span 1 / span 1"},(0,eJ._)(c,F.media.min(1e3),[{gridColumn:"span 2 / span 2"}]),(0,eJ._)(c,"& a",[F.rcss.height(26),F.rcss.color.foregroundDefault,F.rcss.display.block]),c)],primaryMenu:[F.rcss.display.none,F.rcss.align.center,F.rcss.justify.center,F.rcss.zIndex(eX.HEADER_Z_INDEX),(0,eJ._)({gridColumn:"span 4 / span 4"},F.media.min(1e3),[F.rcss.display.flex])],primaryMenuItems:[F.rcss.display.flex,{gap:16}],dropdownContainer:[F.rcss.position.relative],dropdown:(0,eg._)(nB).concat([{pointerEvents:"none"}]),dropdownOpen:(0,eg._)(nB),dropdownList:[F.rcss.backgroundColor.brandBackground,F.rcss.position.absolute,F.rcss.top(50),F.rcss.left(0),F.rcss.minWidth(150),F.rcss.p(8),F.rcss.zIndex(eX.HEADER_Z_INDEX+100),{borderRadius:10,boxShadow:"0 0 #0000, 0 0 #0000, 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",opacity:0,transform:"translateY(2px)",transition:"opacity 0.2s, transform 0.2s",'&[data-open="true"]':{opacity:1,transform:"translateY(0px)"}}],dropdownItem:[F.rcss.py(4),F.rcss.pl(8)],dropdownLink:[F.brandStyles.typography.caption.medium,F.brandFontVariable,F.rcss.color.brandBlack,F.rcss.display.block,F.rcss.width("100%"),{opacity:.5,"&:hover":{opacity:1}}],authCtas:[F.rcss.display.none,F.rcss.zIndex(eX.HEADER_Z_INDEX),(0,eJ._)({gridColumn:"span 2 / span 2"},F.media.min(1e3),[F.rcss.display.flex,F.rcss.justify.end])],authCtaItems:[F.rcss.display.flex,F.rcss.align.center,{gap:16}],secondaryButton:[{backgroundColor:"#e9ecee","@media (hover: hover)":{":not([disabled])":{cursor:"pointer",":hover":{backgroundColor:"#d5d2d0"},":active":{backgroundColor:"#d5d2d0"}}}}],secondaryButtonDark:[F.rcss.color.foregroundDefault,{backgroundColor:"#2b3e48","@media (hover: hover)":{":not([disabled])":{cursor:"pointer",":hover":{backgroundColor:R.tokens.backgroundRoot},":active":{backgroundColor:R.tokens.backgroundRoot}}}}],mobileMenuToggle:[F.rcss.zIndex(eX.HEADER_Z_INDEX),F.rcss.display.flex,F.rcss.justify.end,(0,eJ._)({gridColumn:"span 1 / span 1"},F.media.min(1e3),[F.rcss.display.none])],mobileMenuButton:(0,eg._)(nP).concat([F.rcss.borderRadius(8),F.rcss.color.foregroundDefault,{backgroundColor:"rgba(243, 243, 243, 0.5)"}]),mobileMenuContainer:[F.rcss.backgroundColor.backgroundDefault,F.rcss.position.absolute,F.rcss.top(0),F.rcss.left(0),F.rcss.width("100%"),F.rcss.height("100vh"),(0,eJ._)({opacity:0,overflow:"scroll",pointerEvents:"none",transition:"opacity 0.2s",'&[data-open="true"]':{opacity:1,pointerEvents:"auto"}},F.media.min(1e3),[F.rcss.display.none,{pointerEvents:"none"}])],mobileMenuContents:[F.rcss.display.flex,F.rcss.flex.column,F.rcss.height("100%"),{paddingTop:76,paddingBottom:96}],mobileMenuPrimaryMenu:[F.rcss.display.flex,F.rcss.flex.column,F.rcss.width("100%"),F.rcss.height("100%")],mobileMenuPrimaryMenuItems:[F.rcss.display.flex,F.rcss.flex.column,F.rcss.justify.center,F.rcss.flex.grow(1)],mobileMenuPrimaryMenuItem:(0,eg._)(nS).concat([F.rcss.px(24),F.rcss.py(12)]),mobileNestedNav:[F.rcss.display.flex,F.rcss.flex.grow(1),F.rcss.flex.column],mobileNestedNavContents:[F.rcss.overflow("hidden")],mobileNestedNavToggleButton:(0,eg._)(nP).concat([F.rcss.borderRadius(4),F.rcss.backgroundColor.brandBackground]),mobileNestedNavItems:[F.rcss.width("100%"),F.rcss.py(16),F.rcss.display.flex,F.rcss.flex.column,{gap:8}],mobileNestedNavItem:[F.brandStyles.typography.body.small,F.brandFontDefault,{fontSize:16,fontWeight:512}],mobileNestedNavLink:[F.rcss.display.block],mobileMenuPrimaryExpandableItem:(0,eg._)(nS).concat([F.rcss.align.center,F.rcss.justify.spaceBetween,{appearance:"none",border:"none",backgroundColor:"transparent","&:hover":{cursor:"pointer"}}]),mobileMenuAuthCtas:[F.rcss.position.fixed,F.rcss.bottom(0),F.rcss.left(0),F.rcss.width("100%"),F.rcss.display.flex,{padding:20}],mobileMenuAuthCtaItems:[F.rcss.display.flex,F.rcss.flex.grow(1),F.rcss.justify.spaceEvenly,{gap:16,"& li":[F.rcss.width("100%")]}]}),nT=[{type:"expandable",text:"Products",children:[{type:"link",text:"Agent",href:"/products/agent"},{type:"link",text:"Design",href:"/products/design"},{type:"link",text:"Databases",href:"/products/database"},{type:"link",text:"Publish Apps",href:"/products/deployments"},{type:"link",text:"Security",href:"/products/security"},{type:"link",text:"Integrations",href:"/products/integrations"},{type:"link",text:"Mobile",href:"/products/mobile"}]},{type:"link",text:"Teams",href:"/teams"},{type:"link",text:"Pricing",href:"/pricing"},{type:"link",text:"Blog",href:"https://blog.replit.com"},{type:"link",text:"Careers",href:"/careers"}],nU="/login",nI="Log in",nD="/signup",nE="Start building",nN=function(e){var n,t,r=e.isMobile,i=e.secondaryButtonStyle,s=e.buttonOverride,a=(0,f.useRouter)(),o=(0,I._)((0,m.useState)(nU),2),l=o[0],c=o[1],d=null!=(t=a.query.replUrl)?t:a.asPath;(0,m.useEffect)(function(){c("/"===d||"/pricing"===d||"/mobile"===d||d.includes("/site/")?nU:nU+"?goto=".concat(d))},[a.isReady,d]);var u={from:"/"===(n=a.pathname)?"landingPage":!n||n.length<=1?n:"teams-for-education"===(n=n.slice(1).replace("site/",""))?"teams-edu":n,location:"header",authFormPlacement:"auth-page"},g=r?i:void 0,p=r?void 0:i;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("li",{children:(0,h.jsx)(n_.BrandServerButtonLink,{variant:r?"secondary":"clean",href:l,onClick:function(){return(0,nh.trackLoginView)(u)},css:g,dataCy:r?"mobile-login-button":"header-login-button",text:nI,style:s})}),(0,h.jsx)("li",{children:(0,h.jsx)(n_.BrandServerButtonLink,{variant:r?"primary":"secondary",href:nD,css:p,onClick:function(){return(0,nh.trackSignupView)(u)},dataCy:r?"mobile-signup-button":"header-signup-button",text:nE,style:s})})]})},nM=function(e){var n=e.item,t=e.isOpen,r=e.setIsOpen,i=e.secondaryButtonStyle,s=(0,np.default)(function(){return r(!1)},[r]);return(0,h.jsxs)("li",{css:nA.dropdownContainer,children:[(0,h.jsx)(nw.default,{variant:"secondary",type:"button",onHoverStart:function(){return r(!0)},onClick:function(){return r(!t)},css:i,text:n.text}),(0,h.jsx)("ul",{ref:s,css:t?nA.dropdownOpen:nA.dropdown,children:(0,h.jsx)(nV,{isOpen:t,item:n,setIsOpen:function(e){return r(e)}})})]})},nV=function(e){var n=e.isOpen,t=e.setIsOpen,r=e.item;return(0,h.jsx)("div",{"data-open":n,onMouseLeave:function(){return t(!1)},css:nA.dropdownList,children:r.children.map(function(e){return(0,h.jsx)("li",{css:nA.dropdownItem,children:(0,h.jsx)(ng.default,{rel:"canonical",onClick:function(){return t(!1)},css:nA.dropdownLink,href:e.href,children:e.text})},e.href)})})},nL=(0,O.cssRecord)({root:{opacity:0,height:0,transition:"opacity 0.8s",'&[data-open="true"]':{opacity:1,height:"auto"}}}),nR=function(e){var n=e.item,t=e.setShowNav,r=e.isDarkColorScheme,i=(0,I._)((0,m.useState)(!1),2),s=i[0],a=i[1];return(0,h.jsxs)("div",{css:nA.mobileNestedNav,children:[(0,h.jsxs)("button",{css:nA.mobileMenuPrimaryExpandableItem,onClick:function(){return a(!s)},children:[(0,h.jsx)("span",{children:n.text}),(0,h.jsx)("span",{css:nA.mobileNestedNavToggleButton,style:r?{backgroundColor:"rgba(243, 243, 243, 0.5)"}:void 0,children:s?(0,h.jsx)(nW,{}):(0,h.jsx)(nH,{})})]}),(0,h.jsx)("div",{css:nA.mobileNestedNavContents,children:(0,h.jsx)("section",{css:nL.root,"data-open":s,children:(0,h.jsx)("nav",{children:(0,h.jsx)("ul",{css:nA.mobileNestedNavItems,children:n.children.map(function(e){return(0,h.jsx)("li",{css:nA.mobileNestedNavItem,children:(0,h.jsx)(ng.default,{onClick:function(){return t(!1)},css:nA.mobileNestedNavLink,href:e.href,children:e.text})},e.href)})})})},"content")})]})},nO=function(){return(0,h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"112",height:"26",viewBox:"0 0 112 26",fill:"none",children:[(0,h.jsx)("path",{d:"M10.701 8.40793H1.60592C0.710313 8.40793 0 7.69462 0 6.82955V1.57838C0 0.698131 0.725755 0 1.60592 0H9.09508C9.99069 0 10.701 0.713307 10.701 1.57838V8.40793Z",fill:"#FD5402"}),(0,h.jsx)("path",{d:"M20.4557 17.5668H10.7109V8.39453H20.4557C21.3987 8.39453 22.1763 9.17128 22.1763 10.1133V15.8481C22.1763 16.8066 21.3987 17.5668 20.4557 17.5668Z",fill:"#FD5402"}),(0,h.jsx)("path",{d:"M9.09508 26H1.60592C0.725755 26 0 25.288 0 24.4244V19.1676C0 18.3041 0.725755 17.592 1.60592 17.592H10.701V24.4244C10.701 25.288 9.97525 26 9.09508 26Z",fill:"#FD5402"}),(0,h.jsx)("path",{d:"M40.3351 7.73268L39.5949 8.42401H38.8548L38.6245 7.54832C38.5751 7.33324 38.3613 7.19497 38.1146 7.19497H33.3775C33.0814 7.19497 32.8512 7.41005 32.8512 7.65586V9.1768C32.8512 9.43797 33.0814 9.63769 33.3775 9.63769H36.1737V16.7661H32.917C32.6209 16.7661 32.3906 16.9812 32.3906 17.227V18.748C32.3906 19.0091 32.6209 19.2088 32.917 19.2088H43.1642C43.4603 19.2088 43.6905 18.9938 43.6905 18.748V17.227C43.6905 16.9658 43.4603 16.7661 43.1642 16.7661H39.3976V11.7271C39.3976 10.3137 40.2858 9.57624 42.0293 9.57624H44.8584C45.1544 9.57624 45.3847 9.36116 45.3847 9.11535V7.44078C45.3847 7.17961 45.1544 6.97989 44.8584 6.97989H43.1806C41.947 6.96453 40.9766 7.17961 40.3351 7.73268Z",fill:"currentColor"}),(0,h.jsx)("path",{d:"M52.4942 6.97913C48.3595 6.97913 46.1445 9.12083 46.1445 13.4682C46.1445 17.8315 48.3431 19.9732 52.4122 19.9732C55.5624 19.9732 57.597 18.6946 58.1384 16.5049C58.2204 16.2012 57.9579 15.9136 57.6298 15.9136H55.6609C55.4476 15.9136 55.2507 16.0414 55.1687 16.2332C54.8241 17.1762 53.8396 17.6237 52.5106 17.6237C50.4433 17.6237 49.4588 16.5209 49.3276 13.9477H58.3025C58.7947 9.13682 56.7438 6.97913 52.4942 6.97913ZM49.426 11.9977C49.7378 10.1118 50.7058 9.23271 52.4778 9.23271C54.3647 9.23271 55.2507 10.2077 55.2999 11.9977H49.426Z",fill:"currentColor"}),(0,h.jsx)("path",{d:"M67.9398 6.97913C66.8718 6.97913 66.1022 7.20864 65.5054 7.75948L64.7672 8.44803H64.0918L63.8405 7.56057C63.7777 7.36165 63.5892 7.20864 63.3536 7.20864H61.9401C61.6574 7.20864 61.4375 7.42286 61.4375 7.66767V23.336C61.4375 23.5961 61.6574 23.795 61.9401 23.795H64.0133C64.296 23.795 64.5159 23.5808 64.5159 23.336V19.9391L64.2489 18.1183L64.9399 17.9653L65.6781 18.6538C66.2592 19.1741 66.966 19.4342 68.0183 19.4342C71.0653 19.4342 72.9029 17.3838 72.9029 13.2067C72.8872 9.02947 71.0653 6.97913 67.9398 6.97913ZM66.9189 16.9248C65.364 16.9248 64.5002 16.1445 64.5002 14.6603V11.7225C64.5002 10.2383 65.3483 9.4579 66.9189 9.4579C68.8193 9.4579 69.6831 10.6208 69.6831 13.1761C69.6674 15.7619 68.8193 16.9248 66.9189 16.9248Z",fill:"currentColor"}),(0,h.jsx)("path",{d:"M111.119 8.77679V7.19403C111.119 6.92224 110.895 6.7144 110.607 6.7144H105.054V3.64479C105.054 3.373 104.83 3.16516 104.542 3.16516H102.43C102.142 3.16516 101.918 3.38899 101.918 3.64479V6.7144H98.6371C98.349 6.7144 98.125 6.93822 98.125 7.19403V8.77679C98.125 9.04858 98.349 9.25642 98.6371 9.25642H101.918V13.9568C101.918 17.554 103.614 19.2167 107.262 19.2167H110.239C110.527 19.2167 110.751 18.9928 110.751 18.737V17.1543C110.751 16.8825 110.527 16.6746 110.239 16.6746H107.743C105.758 16.6746 105.054 15.8913 105.054 13.9408V9.27241H110.607C110.895 9.25642 111.119 9.03259 111.119 8.77679Z",fill:"currentColor"}),(0,h.jsx)("path",{d:"M85.3996 16.7506H82.1912V2.86663C82.1912 2.60291 81.971 2.40125 81.6879 2.40125H75.3969C75.1138 2.40125 74.8936 2.61842 74.8936 2.86663V4.40239C74.8936 4.66611 75.1138 4.86778 75.3969 4.86778H79.1086V16.7506H74.9408C74.6577 16.7506 74.4375 16.9677 74.4375 17.216V18.7517C74.4375 19.0154 74.6577 19.2171 74.9408 19.2171H85.3996C85.6827 19.2171 85.9029 18.9999 85.9029 18.7517V17.216C85.9029 16.9522 85.6827 16.7506 85.3996 16.7506Z",fill:"currentColor"}),(0,h.jsx)("path",{d:"M94.4697 2.20508H91.6232C91.3386 2.20508 91.1172 2.42647 91.1172 2.67948V4.6878C91.1172 4.95663 91.3386 5.16221 91.6232 5.16221H94.4697C94.7543 5.16221 94.9757 4.94082 94.9757 4.6878V2.67948C94.9599 2.41065 94.7385 2.20508 94.4697 2.20508Z",fill:"currentColor"}),(0,h.jsx)("path",{d:"M94.8537 16.8309V7.45353C94.8537 7.1847 94.6323 6.97913 94.3476 6.97913H87.9748C87.6901 6.97913 87.4688 7.20052 87.4688 7.45353V9.01907C87.4688 9.2879 87.6901 9.49347 87.9748 9.49347H91.7542V16.8309H87.9748C87.6901 16.8309 87.4688 17.0523 87.4688 17.3054V18.8709C87.4688 19.1397 87.6901 19.3453 87.9748 19.3453H98.728C99.0126 19.3453 99.234 19.1239 99.234 18.8709V17.3054C99.234 17.0365 99.0126 16.8309 98.728 16.8309H94.8537Z",fill:"currentColor"})]})},nF=function(){return(0,h.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M3 12H21",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,h.jsx)("path",{d:"M3 6H21",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,h.jsx)("path",{d:"M3 18H21",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},nH=function(){return(0,h.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M12 5V19",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),(0,h.jsx)("path",{d:"M5 12H19",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})]})},nW=function(){return(0,h.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M5 12H19",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})})};let nG=function(e){var n,t=e.isTransparent,r=(0,I._)((0,m.useState)(!1),2),i=r[0],o=r[1],l=(0,I._)((0,m.useState)(!1),2),c=l[0],d=l[1],g=(0,I._)((0,m.useState)(!1),2),p=g[0],f=g[1],x=nb(90),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.thr,t=e.axis,r=void 0===t?s.Y:t,i=e.scrollUp,o=void 0===i?r===s.Y?a.Up:a.Left:i,l=e.scrollDown,c=void 0===l?r===s.Y?a.Down:a.Right:l,d=e.still,u=void 0===d?a.Still:d,g=(0,I._)((0,m.useState)(u),2),h=g[0],p=g[1],f=(0,I._)((0,m.useState)({top:0,bottom:0,left:0,right:0}),2),x=f[0],v=f[1],y=Math.max(0,void 0===n?0:n),C=!1,b=0,j=(0,m.useCallback)(function(){var e=r===s.Y?window.scrollY:window.scrollX;Math.abs(e-b)>=y&&(p(e>b?c:o),b=Math.max(0,e)),C=!1},[r,y,c,o]);return(0,m.useEffect)(function(){var e=function(){var e=window.scrollY,n=window.scrollX,t=document.documentElement.scrollHeight-window.innerHeight-e,r=document.documentElement.scrollWidth-window.innerWidth-n;v({top:e,bottom:t,left:n,right:r})};return e(),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}},[]),(0,m.useEffect)(function(){b=r===s.Y?window.scrollY:window.scrollX;var e=function(){C||(window.requestAnimationFrame(j),C=!0)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}},[j]),{scrollDir:h,scrollPosition:x}}({axis:s.Y}).scrollDir,y=(0,nj.useTheme)().isDarkColorScheme;n=c?nA.headerShowMobileNav:i?nA.headerAway:t?nA.headerTransparent:nA.header;var C=y?(0,e0._)((0,u._)({},nA.secondaryButtonDark),{color:R.tokens.foregroundDefault}):nA.secondaryButton,b=y?{color:R.tokens.foregroundDefault}:void 0,j=y?{borderBottom:"1px solid rgba(255, 255, 255, 0.25)"}:void 0;return(0,m.useEffect)(function(){c||(x&&"down"===v?(o(!0),f(!1)):"up"===v&&o(!1))},[v,x,o,c]),(0,h.jsxs)("header",{role:"banner",css:n,style:y&&!t?{backgroundColor:R.tokens.backgroundRoot}:void 0,children:[(0,h.jsx)("nav",{"aria-hidden":c,css:nA.container,children:(0,h.jsxs)("ul",{css:nA.content,children:[(0,h.jsx)("li",{css:nA.logo,children:(0,h.jsx)("a",{rel:"canonical",href:"/",onClick:function(){return d(!1)},"aria-label":"Replit",children:(0,h.jsx)(nO,{})})}),(0,h.jsx)("li",{css:nA.mobileMenuToggle,children:(0,h.jsx)("button",{css:nA.mobileMenuButton,onClick:function(){return d(!c)},children:(0,h.jsx)(nF,{})})}),(0,h.jsx)("li",{css:nA.primaryMenu,children:(0,h.jsx)("ul",{css:nA.primaryMenuItems,children:nT.map(function(e){return"expandable"===e.type?(0,h.jsx)(nM,{item:e,isOpen:p,setIsOpen:f,secondaryButtonStyle:C},e.text):(0,h.jsx)("li",{children:(0,h.jsx)(n_.BrandButtonLink,{rel:"canonical",variant:"clean",type:"link",href:e.href,text:e.text,style:b})},e.href)})})}),(0,h.jsx)("li",{css:nA.authCtas,children:(0,h.jsx)("ul",{css:nA.authCtaItems,children:(0,h.jsx)(nN,{isMobile:!1,secondaryButtonStyle:C,buttonOverride:b})})})]})}),(0,h.jsx)("nav",{"aria-hidden":!c,className:"js-menu",css:nA.mobileMenuContainer,"data-open":c,children:(0,h.jsxs)("ul",{css:nA.mobileMenuContents,children:[(0,h.jsx)("li",{css:nA.mobileMenuPrimaryMenu,children:(0,h.jsx)("ul",{css:nA.mobileMenuPrimaryMenuItems,children:nT.map(function(e){return"expandable"===e.type?(0,h.jsx)("li",{className:"js-li",css:nA.mobileMenuPrimaryMenuItem,style:j,children:(0,h.jsx)(nR,{item:e,setShowNav:d,isDarkColorScheme:y})},e.text):(0,h.jsx)("li",{className:"js-li",css:nA.mobileMenuPrimaryMenuItem,style:j,children:(0,h.jsx)(ng.default,{href:e.href,children:e.text})},e.href)})})}),(0,h.jsx)("li",{className:"js-cta",css:nA.mobileMenuAuthCtas,children:(0,h.jsx)("ul",{css:nA.mobileMenuAuthCtaItems,children:(0,h.jsx)(nN,{isMobile:!0,secondaryButtonStyle:C,buttonOverride:b})})})]})})]})};var nq=e.i(993796),nz=e.i(858248),nY=e.i(194458),n$=e.i(127060),nK=e.i(427802),nQ=e.i(15144),nZ=e.i(924735),nX=(0,p.default)(function(){return(0,d._)(function(){return(0,g._)(this,function(n){return[2,e.A(857715)]})})()},{loadableGenerated:{modules:[885179]},ssr:!1,loading:function(){return null}});function nJ(e){return(0,h.jsx)(nZ.StrictModeWrapper,{children:(0,h.jsx)(C.default,{children:(0,h.jsx)(b.PreferencesProvider,{children:(0,h.jsx)(n0,{children:e.children})})})})}function n0(e){var n=e.children,t=(0,x.useFocusVisible)().isFocusVisible;return(0,m.useEffect)(function(){t?document.documentElement.setAttribute("data-focus-visible","true"):document.documentElement.removeAttribute("data-focus-visible")},[t]),n}var n1=(0,O.cssRecord)({page:[F.rcss.minHeight("100vh"),F.rcss.flex.column],content:[F.rcss.container("layout"),{flex:"1 1 auto",paddingTop:eX.HEADER_HEIGHT}],contentNoHeader:[F.rcss.container("layout"),{flex:"1 1 auto"}]});let n2=(0,v.withLDConsumer)({clientOnly:!0})((0,m.memo)(function(e){var n,t,r,i,s,a,o,l,c,d,g,p,x,v,C=(0,f.useRouter)(),b=(0,j.default)();(0,w.default)();var I=(0,y.useLayoutCurrentUserQuery)(),D=I.data,E=I.loading,N=null==D?void 0:D.currentUser;n=!!(null==D||null==(c=D.currentUser)?void 0:c.isLoggedIn),t=(0,m.useRef)(n),r=(0,f.useRouter)(),i=(0,m.useRef)(r.asPath),(0,m.useEffect)(function(){if(!t.current){if(!nK.default.get("gfa_ref")){var e=document.referrer||"(not provided)";nK.default.set("gfa_ref",e)}if(!nK.default.get("gfa_landed_on")){var n=i.current;nK.default.set("gfa_landed_on",n)}}},[]),(0,k.useIdentifyUserForLaunchDarkly)(N),(0,_.useIdentifyPayingState)(null!=N?N:null),s=(0,nq.useUserFlags)(),a=(0,m.useRef)(!1),(0,m.useEffect)(function(){if((null==s?void 0:s.userId)&&(null==s?void 0:s.flags)){var e={id:s.userId.toString()};a.current||((0,nz.identify)(e),a.current=!0)}},[s]),l=null==(o=(0,nY.useSearchParams)())?void 0:o.get("checkoutSuccess"),(0,m.useEffect)(function(){if("true"===l){(0,n$.sendCoframeConversionEvent)("payment");var e=new URL(window.location.href);e.searchParams.delete("checkoutSuccess"),e.searchParams.delete("sessionId"),window.history.replaceState({},"",e.toString())}},[l]);var M=(null==D||null==(d=D.currentUser)?void 0:d.__typename)==="CurrentUser",V=null!=(x=null==D||null==(g=D.currentUser)?void 0:g.isImpersonated)&&x,L=null!=(v=null==D||null==(p=D.currentUser)?void 0:p.isVerified)&&v,R=e.children,O=e.hideEmailVerify,H=e.marketingHeader,W=e.noFooter,G=e.noHeader,q=e.noSidebar,z=e.noMain,Y=e.dataCy,$=e.transparentHeader,K=e.shortPage,Q=M&&V?(0,h.jsx)(nd,{}):null,Z=(0,h.jsx)(nu.default,(0,u._)({},e)),X=(0,h.jsx)(no,{shortPage:K});if((0,S.isInBonsaiWebview)(C)||b)return(0,h.jsx)(nJ,{user:N,children:(0,h.jsxs)(ez.Surface,{elevated:!0,dataCy:Y,tag:"main",id:"main-content",css:[F.rcss.position.relative,F.rcss.minHeight("100vh"),F.rcss.width("100%")],children:[Z,(0,h.jsx)(B.FloatingMessage,{}),R]})});if(M&&!H)return(0,h.jsx)(nJ,{user:N,children:(0,h.jsxs)(eZ.default,{dataCy:Y,noHeader:G,noSidebar:q,noMain:z,sidebarType:e.sidebarType?e.sidebarType:A.SidebarType.Index,children:[Z,(0,h.jsx)(B.FloatingMessage,{}),!O&&M?L?(0,h.jsx)(T.ReverseTrialBanner,{}):(0,h.jsx)(eQ,{}):null,Q,R,(0,h.jsx)(nX,{}),(0,h.jsx)(U.default,{}),(0,h.jsx)(eG,{}),(0,h.jsx)(eq.UBBSuspensionNotificationModals,{}),(0,h.jsx)(P.default,{})]})});if(E)return null;var J=null;G||(J=(0,h.jsx)(nG,{isTransparent:null!=$&&$}));var ee=n1.content;return G&&(ee=n1.contentNoHeader),(0,h.jsx)(nJ,{user:N,children:(0,h.jsxs)("div",{css:n1.page,style:e.pageStyleOverride,"data-cy":Y,children:[(0,h.jsx)(nQ.SkipNav,{contentId:"main-content"}),Z,(0,h.jsx)(B.FloatingMessage,{}),Q,J,(0,h.jsx)(z?"div":"main",{id:z?void 0:"main-content",css:ee,children:R}),!W&&X,(0,h.jsx)(nX,{})]})})}));e.s(["default",0,n2],578134)}]);

//# debugId=cf72d985-10ad-0c99-4dba-1091ea0e5862
//# sourceMappingURL=f1f8d565781c59d7.js.map